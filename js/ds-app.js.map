{"version":3,"sources":["webpack://dsApp/./ds.plugin.config.js","webpack://dsApp/./ds.plugin.integrity.js","webpack://dsApp/../ds-plugin-action/ds.plugin.config.js","webpack://dsApp/../ds-plugin-content/ds.plugin.config.js","webpack://dsApp/../ds-plugin-content/ds.plugin.integrity.js","webpack://dsApp/../ds-plugin-element/ds.plugin.config.js","webpack://dsApp/../ds-plugin-event/ds.plugin.config.js","webpack://dsApp/../ds-plugin-layout/ds.plugin.config.js","webpack://dsApp/../ds-plugin-manager/ds.plugin.config.js","webpack://dsApp/../ds-plugin-operators/ds.plugin.config.js","webpack://dsApp/../ds-plugin-params/ds.plugin.config.js","webpack://dsApp/../ds-plugin-utilities/ds.plugin.config.js","webpack://dsApp/webpack/bootstrap","webpack://dsApp/./node_modules/@dooksa/ds-plugin/src/index.js","webpack://dsApp/../ds-plugin-action/src/index.js","webpack://dsApp/../ds-plugin-layout/src/index.js","webpack://dsApp/../ds-plugin-element/src/index.js","webpack://dsApp/../ds-plugin-content/src/index.js","webpack://dsApp/../ds-plugin-operators/src/index.js","webpack://dsApp/../ds-plugin-event/src/index.js","webpack://dsApp/../ds-plugin-params/src/index.js","webpack://dsApp/../ds-plugin-utilities/node_modules/nanoid/index.prod.js","webpack://dsApp/../ds-plugin-utilities/src/index.js","webpack://dsApp/../ds-plugins/src/index.js","webpack://dsApp/../ds-plugin-manager/node_modules/@dooksa/script-loader/src/index.js","webpack://dsApp/../ds-plugin-manager/src/index.js","webpack://dsApp/./src/app.js","webpack://dsApp/./src/index.js"],"names":["hash","require","module","exports","name","filename","version","integrity","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","Plugin","plugin","context","this","_context","data","i","length","item","pluginMetadata","dependencies","dispatch","value","getters","key","Object","hasOwnProperty","call","defineProperty","get","charAt","bind","methods","setup","prototype","init","params","items","conditions","lastActionIndex","root","instanceId","parentItemId","actions","results","lastItem","valid","hasCallback","nanoid","_compare","action","itemId","when","callback","onSuccess","onError","Array","isArray","id","_createActions","method","rules","result","_action","push","type","computedParams","paramType","paramItems","$method","_onError","callbackParams","_onSuccess","hasLogicalOperator","condition","operator","values","compareResults","_getProcessValue","_getter","$context","store","_pluginAction","$action","_pluginMethod","content","children","layout","baseItems","add","addBaseItem","create","_getLayout","_render","setBaseItem","setChildren","setContent","setLayout","_content","index","childItems","fragments","window","DocumentFragment","component","sibling","_sibling","childComponent","appendChild","contentIndex","append","indexes","newItems","dsDiv","is","tag","dsButton","dsImage","dsLabel","dsInput","dsTextarea","attributes","rows","DsText","DsElementMixin","base","constructor","super","connectedCallback","elementId","disconnectedCallback","DsDivElement","HTMLDivElement","innerHTML","DsButtonElement","HTMLButtonElement","addEventListener","e","DsInputElement","HTMLInputElement","payload","target","DsLabelElement","HTMLLabelElement","DsTextAreaElement","HTMLTextAreaElement","innerText","Text","textContent","customElements","define","extends","_getComponent","classList","join","_createHTMLElement","createNode","element","document","createElement","setAttribute","observers","defaultItems","text","image","src","alt","html","$getter","_generateContent","remove","set","subscribe","_getContent","_setObserver","unsubscribe","_getObservers","indexOf","splice","update","_updateObservers","_updateObserver","observer","dsContent","operators","v","eval","compare","arrayRemove","list","newList","hasItem","j","arrayNextKeyValue","currentValue","arrayPrevKeyValue","arrayFindByKeyValue","valueIndex","hasValue","rangeItem","nextIndex","prevIndex","arrayMove","indexEnd","listMiddle","sort","a","b","startList","offset","listEnd","concat","arrayMerge","flat","_$index","addListener","emit","_listener","console","log","removeListener","usedBy","instance","process","variables","debug","config","iteration","_processVariables","setParams","_getParam","_$id","_get","_$computed","_$computedParams","_getValue","dotNotations","split","_getVariable","variable","_arrayTransform","map","listItem","mapItems","mapItem","k","dotNotation","dKey","onIteration","_eval","expression","_processValues","_evalBoolean","_evalNumber","_evalString","return","_$itemId","keys","random","bytes","crypto","getRandomValues","Uint8Array","customAlphabet","alphabet","size","getRandom","mask","Math","LN2","step","customRandom","docId","alphabetLength","generateDocId","generateInstanceId","ScriptLoader","async","crossOrigin","defer","nonce","referrerPolicy","nomodule","customParams","globalVars","queue","loaded","loading","Promise","all","load","loadScript","resolve","reject","url","createUrl","setScript","paramKey","replace","getElementById","script","onerror","onload","globalVar","head","_methods","_getters","buildId","additionalPlugins","plugins","appBuildId","appPlugins","appAdditionalPlugins","isLoaded","setupOnRequest","setupOnRequestQueue","metadata","isDev","_method","_add","use","_actionExists","_addMetadata","_callbackWhenAvailable","baseName","_isLoading","then","error","_install","pluginImport","_load","setupOptions","depQueue","depPlugin","dsPlugin","DsPlugin","_setup","catch","scriptOptions","statusCode","message","pluginLoader","Error","pluginResult","options","getter","onDemand","loadingPlugin","rootElement","assetsURL","pathFilename","location","pathname","$Script","hostname","dsAppCache","widgets","dsLayout","dsElement","dsAction","dsEvent","dsParameters","dsOperators","dsUtilities","dsApp","pluginManager","dsManager","build"],"mappings":"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","file":"ds-app.js","sourcesContent":["const { hash } = require('./ds.plugin.integrity.js')\n\nmodule.exports = {\n  name: 'dsApp',\n  filename: 'ds-app',\n  version: 1,\n  integrity: hash\n}\n","module.exports = { hash: 'sha512-hkhD8NtPFiKheeJH+nk7SvMt+1e4KXqTzEHbvwRi6U3a2Jov1BY9RngE9Kf1+xW3bzjL65fDE/Uqy9wm6rOL7Q==' }\n","module.exports = {\n  name: 'dsAction',\n  filename: 'ds-action',\n  version: 1\n}\n","const { hash } = require('./ds.plugin.integrity.js')\n\nmodule.exports = {\n  name: 'dsContent',\n  filename: 'ds-content',\n  version: 1,\n  integrity: hash\n}\n","module.exports = { hash: 'sha512-z5UgOiTBL4qHC08JHij7jkWr88NaQCioZ76gtJZzzY0VNtu0rPTfHl1h5hGzledJT3FOv0b1ReNw7eLu+5au0w==' }\n","module.exports = {\n  name: 'dsElement',\n  filename: 'ds-element',\n  version: '1'\n}\n","module.exports = {\n  name: 'dsEvent',\n  filename: 'ds-event',\n  version: 1\n}\n","module.exports = {\n  name: 'dsLayout',\n  filename: 'ds-layout',\n  version: 1\n}\n","module.exports = {\n  name: 'dsManager',\n  filename: 'ds-plugin-manager',\n  version: 1\n}\n","module.exports = {\n  name: 'dsOperators',\n  filename: 'ds-operators',\n  version: '0.1.0'\n}\n","module.exports = {\n  name: 'dsParameters',\n  filename: 'ds-parameters',\n  version: 1\n}\n","module.exports = {\n  name: 'dsUtilities',\n  filename: 'ds-utilities',\n  version: 1\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * @classdesc Plugins are used to extend and customise the Dooksa application builder.\n * @class\n * @param {Object} plugin - The plugin object used by the Plugin constructor.\n * @param {string} plugin.name - The name of the plugin.\n * @param {number} plugin.version - The version of the plugin.\n * @param {Object[]} plugin.dependencies - List of dependent plugins, e.g. if this plugin x used y by running an action: x.$action('y', params).\n * @param {string} plugin.dependencies[].name - The name of the dependent plugin.\n * @param {number} plugin.dependencies[].version - The version of the dependent plugin.\n * @param {Object} plugin.setup - This .\n * @param {Object.<string, (number|boolean|string|array|object)>} plugin.data - The object that contains plugins data.\n * @param {Object.<string, object>} plugin.getters - The version of the plugin.\n * @param {Object.<string, object>} plugin.methods - The version of the plugin.\n * @param {Object[]} context - Context is shared data between plugins.\n * @param {string} context.name - The name will be the key used within the plugin, e.g. '$action' = this.$action\n * @param {number} context.dispatch - If true the context.value (function) return value will be used.\n * @param {(string|object)} context.value - The value of the context.\n */\nfunction Plugin (plugin, context = []) {\n  this.name = plugin.name\n  this.version = plugin.version\n  this._context = {}\n  // set data to context\n  if (plugin.data) {\n    this._context = { ...plugin.data }\n  }\n  // set context to plugin\n  for (let i = 0; i < context.length; i++) {\n    const item = context[i]\n    const pluginMetadata = {\n      name: plugin.name,\n      version: plugin.version,\n      dependencies: plugin.dependencies\n    }\n\n    if (item.dispatch) {\n      this._context[item.name] = item.value(pluginMetadata)\n    } else {\n      this._context[item.name] = item.value\n    }\n  }\n  // set dependencies\n  if (plugin.dependencies) {\n    this.dependencies = plugin.dependencies\n  }\n  // set getters\n  if (plugin.getters) {\n    const getters = {}\n\n    for (const key in plugin.getters) {\n      if (Object.hasOwnProperty.call(plugin.getters, key)) {\n        const item = plugin.getters[key]\n        // Add getter\n        Object.defineProperty(this._context, key, { get: item })\n        // Catch the public getter\n        if (key.charAt(0) !== '_') {\n          getters[key] = item.bind(this._context)\n        }\n      }\n    }\n\n    this.getters = getters\n  }\n  // set methods\n  if (plugin.methods) {\n    const methods = {}\n\n    for (const key in plugin.methods) {\n      if (Object.hasOwnProperty.call(plugin.methods, key)) {\n        const item = plugin.methods[key]\n\n        this._context[key] = item\n\n        // Catch the public method\n        if (key.charAt(0) !== '_') {\n          methods[key] = item.bind(this._context)\n        }\n      }\n    }\n\n    this.methods = methods\n  }\n  // set setup function\n  if (plugin.setup) {\n    this.setup = plugin.setup.bind(this._context)\n  }\n}\n\n/**\n * Runs the setup function within the plugin if present, this function is intended to be used by the parent plugin\n * @param {Object, <string, (number|boolean|string|array|object)>} params - These are the parameters required by the setup function\n * @returns {(number|boolean|string|array|object)}\n */\nPlugin.prototype.init = function (params) {\n  if (this.setup) {\n    return this.setup(params)\n  }\n}\n\nexport default Plugin\n","import { name, version } from '../ds.plugin.config'\n\n/**\n * Dooksa action plugin.\n * @module plugin\n */\nexport default {\n  name,\n  version,\n  dependencies: [\n    {\n      name: 'dsParameters',\n      version: 1\n    }\n  ],\n  data: {\n    items: {},\n    conditions: {},\n    lastActionIndex: {}\n  },\n  methods: {\n    dispatch ({\n      root,\n      instanceId,\n      parentItemId,\n      actions = [],\n      conditions = [],\n      data,\n      results = {}\n    }) {\n      let lastItem = false\n      let valid = true\n      let hasCallback = false\n      // ISSUE: [DS-589] Use ds-plugin-utilities to generate a id\n      if (root) {\n        instanceId = nanoid()\n        this.lastActionIndex[instanceId] = actions.length - 1\n      }\n\n      if (conditions.length) {\n        valid = this._compare(conditions, { instanceId: nanoid(), parentItemId, data })\n      }\n\n      for (let i = 0; i < actions.length; i++) {\n        const action = actions[i]\n        const itemId = action.itemId\n        const item = action.items[itemId]\n\n        if (item.conditions) {\n          valid = this._compare(item.conditions, { instanceId: nanoid(), parentItemId, data })\n        }\n\n        if (Object.hasOwnProperty.call(item, 'when') && valid !== item.when) {\n          return\n        }\n\n        // Check if item has a literal value\n        if (Object.hasOwnProperty.call(item, 'value')) {\n          return [item.value]\n        }\n\n        const callback = {\n          onSuccess: null,\n          onError: null\n        }\n        // TODO: [DS-561] make sure onSuccess value exists to avoid complex condition\n        if (Array.isArray(item.onSuccess) && item.onSuccess.length) {\n          hasCallback = true\n\n          callback.onSuccess = {\n            params: {\n              id,\n              parentItemId: itemId,\n              actions: this._createActions(item.onSuccess, action),\n              data\n            },\n            method: this.rules.bind(this)\n          }\n        }\n\n        // TODO: [DS-562] make sure onError value exists to avoid complex condition\n        if (Array.isArray(item.onError) && item.onSuccess.length) {\n          hasCallback = true\n\n          callback.onError = {\n            params: {\n              id: instanceId,\n              parentItemId: itemId,\n              actions: this._createActions(item.onError, action),\n              data\n            },\n            method: this.rules.bind(this)\n          }\n        }\n\n        // Check if this action is the last item\n        if (i === this.lastActionIndex[id] && !hasCallback) {\n          lastItem = true\n          delete this.lastActionIndex[id]\n        }\n\n        const result = this._action({\n          id,\n          itemId,\n          items: action.items,\n          conditions: action.conditions,\n          parentItemId,\n          ...item,\n          callback,\n          data,\n          results,\n          lastItem\n        })\n\n        if (result) {\n          results[itemId] = result\n        }\n      }\n\n      return results\n    },\n    _createActions (items, action) {\n      const actions = []\n\n      for (let i = 0; i < items.length; i++) {\n        actions.push({\n          itemId: items[i],\n          items: action.items,\n          params: action.params\n        })\n      }\n\n      return actions\n    },\n    _action ({\n      id,\n      name,\n      type,\n      computedParams,\n      paramType,\n      paramItems,\n      params,\n      data,\n      results,\n      callback = {},\n      itemId,\n      parentItemId,\n      lastItem\n    }) {\n      if (computedParams) {\n        params = this.$method('dsParameters/process', {\n          id,\n          itemId,\n          parentItemId,\n          paramType,\n          params,\n          paramItems,\n          data,\n          results,\n          lastItem\n        })\n      }\n\n      return this['_' + type]({ name, params, callback })\n    },\n    /**\n     * This callback is used after a rule\n     * @callback onEventCallback\n     */\n\n    /**\n     * Runs onError callback\n     * @param {onEventCallback} callback - This callback is expected to be a rule or another function within the workflow scope\n     * @param {Object} params - An object that are params for the rules callback\n     * @param {*} result - The result from the parent function to pass onto the callback\n     */\n    _onError (callback, params, result) {\n      let callbackParams = result\n\n      if (params) {\n        callbackParams = { ...params, result }\n      }\n\n      callback(callbackParams)\n    },\n    /**\n     * Runs onSuccess callback\n     * @param {onEventCallback} callback - This callback is expected to be a rule or another function within the workflow scope\n     * @param {Object} params - An object that are params for the rules callback\n     * @param {*} results - The results from the parent function to pass onto the callback\n     */\n    _onSuccess (callback, params, results) {\n      let callbackParams = results\n\n      if (params) {\n        callbackParams = { ...params, results }\n      }\n\n      callback(callbackParams)\n    },\n    _compare (conditions, { instanceId, parentItemId, data }) {\n      let result = false\n      let hasLogicalOperator = false\n      let results = []\n\n      for (let i = 0; i < conditions.length; i++) {\n        const condition = conditions[i]\n        const operator = condition.name\n\n        if (operator === '&&' || operator === '||') {\n          results = [...results, operator]\n          hasLogicalOperator = true\n        } else {\n          const values = []\n          const length = condition.values.length - 1\n\n          for (let i = 0; i < condition.values.length; i++) {\n            const item = condition.values[i]\n            let value = item.value\n\n            if (Object.hasOwnProperty.call(item, 'itemId')) {\n              value = this._action({\n                instanceId,\n                itemId: item.itemId,\n                parentItemId,\n                paramItems: condition.params,\n                data,\n                lastItem: length === i,\n                ...condition.items[item.itemId]\n              })\n            }\n\n            values.push(value)\n          }\n\n          const compareResults = this.$method('dsOperators/eval', { name: operator, values })\n\n          results.push(compareResults)\n        }\n      }\n\n      if (hasLogicalOperator) {\n        result = this.$method('dsOperators/compare', results)\n      } else {\n        for (let i = 0; i < results.length; i++) {\n          result = true\n\n          if (!results[i]) {\n            result = false\n            break\n          }\n        }\n      }\n\n      return result\n    },\n    _getProcessValue ({ params, callback }) {\n      const onSuccess = callback.onSuccess\n      const onError = callback.onError\n      const results = params\n\n      if (onSuccess) {\n        this._onSuccess(onSuccess.method || onSuccess, onSuccess.params, results)\n      }\n\n      if (onError) {\n        this._onError(onError.method || onError, onError.params)\n      }\n\n      return results\n    },\n    _getter ({ name, params, callback }) {\n      const onSuccess = callback.onSuccess\n      const onError = callback.onError\n      let results\n\n      if (typeof this.$context.store.getters[name] === 'function') {\n        results = this.$context.store.getters[name](params)\n      } else {\n        results = this.$context.store.getters[name]\n      }\n\n      if (results) {\n        if (onSuccess) {\n          this._onSuccess(onSuccess.method || onSuccess, onSuccess.params, results)\n        }\n      }\n\n      if (onError) {\n        if (onError) {\n          this._onError(onError.method || onError, onError.params)\n        }\n      }\n\n      return results\n    },\n    _pluginAction ({ name, params, callback }) {\n      this.$action(name, params, callback)\n    },\n    _pluginMethod ({ name, params, callback }) {\n      const onSuccess = callback.onSuccess\n      const results = this.$method(name, params)\n\n      if (onSuccess) {\n        this._onSuccess(onSuccess.method || onSuccess, onSuccess.params, results)\n      }\n    }\n  }\n}\n","import { name, version } from '../ds.plugin.config'\n\n/**\n * Dooksa widget plugin.\n * @module plugin\n */\nexport default {\n  name,\n  version,\n  dependencies: [\n    {\n      name: 'dsElement',\n      version: 1\n    },\n    {\n      name: 'dsContent',\n      version: 1\n    }\n  ],\n  data: {\n    content: {},\n    children: {},\n    layout: {},\n    baseItems: {},\n    items: {}\n  },\n  methods: {\n    add (context, { id, layout, content, children }) {\n      this.children[id] = children\n      this.layout[id] = layout\n      this.content[id] = content\n    },\n    addBaseItem (context, { id, item }) {\n      this.baseItems[id] = item\n    },\n    create (context, id) {\n      const items = this._getLayout(id)\n\n      return this._render(items)\n    },\n    setBaseItem (context, item) {\n      this.baseItems = { ...this.baseItems, ...item }\n    },\n    setChildren (context, item) {\n      this.children = { ...this.children, ...item }\n    },\n    setContent (context, item) {\n      this.content = { ...this.content, ...item }\n    },\n    setLayout (context, item) {\n      this.layout = { ...this.layout, ...item }\n    },\n    _content (id, index) {\n      return this.content[id][index]\n    },\n    _getLayout (id) {\n      return {\n        id,\n        layout: this.layout[id],\n        children: this.children[id]\n      }\n    },\n    _render ({ id, layout, children, childItems }) {\n      const fragments = new window.DocumentFragment()\n\n      for (let i = 0; i < children.length; i++) {\n        const item = childItems ? childItems[children[i]] : layout[children[i]]\n        let component\n\n        if (item.component.type === 'element') {\n          component = this.$method('dsElement/create', item.component)\n        } else {\n          component = this.$method('dsElement/createNode', item.component.id)\n        }\n\n        if (item.children) {\n          const sibling = this._sibling(layout, item.children)\n          const childComponent = this._render({\n            id,\n            layout,\n            children: sibling.children,\n            childItems: sibling.items\n          })\n          component.appendChild(childComponent)\n        } else {\n          const content = this._content(id, item.contentIndex)\n\n          this.$method('dsContent/subscribe', { id: content.id, item: component })\n        }\n\n        fragments.append(component)\n      }\n\n      return fragments\n    },\n    _sibling (items, indexes) {\n      const newItems = {\n        items: [],\n        children: []\n      }\n\n      for (let i = 0; i < indexes.length; i++) {\n        const index = indexes[i]\n\n        newItems.items.push(items[index])\n        newItems.children.push(i)\n      }\n\n      return newItems\n    }\n  }\n}\n","import { name, version } from '../ds.plugin.config'\n\n/**\n * Dooksa element plugin.\n * @module plugin\n */\nexport default {\n  name,\n  version,\n  dependencies: [\n    {\n      name: 'dsEvent',\n      version: 1\n    }\n  ],\n  data: {\n    items: {\n      dsDiv: {\n        is: 'ds-div',\n        tag: 'div'\n      },\n      dsButton: {\n        is: 'ds-button',\n        tag: 'button'\n      },\n      dsImage: {\n        is: 'ds-image',\n        tag: 'img'\n      },\n      dsLabel: {\n        is: 'ds-label',\n        tag: 'label'\n      },\n      dsInput: {\n        is: 'ds-input',\n        tag: 'input'\n      },\n      dsTextarea: {\n        is: 'ds-textarea',\n        tag: 'textarea',\n        attributes: { rows: '3' }\n      },\n      get dsText () {\n        return new window.DsText()\n      },\n      get dsFragment () {\n        return new window.DocumentFragment()\n      }\n    }\n  },\n  setup () {\n    const DsElementMixin = (base) => (\n      class DsElementMixin extends base {\n        constructor () {\n          super()\n\n          this.$action = () => {}\n        }\n\n        connectedCallback () {\n          this.$action('dsEvent/emit', {\n            id: this.elementId,\n            name: 'mounted'\n          })\n        }\n\n        disconnectedCallback () {\n          this.$action('dsEvent/emit', {\n            id: this.elementId,\n            name: 'unmounted'\n          })\n        }\n      }\n    )\n\n    class DsDivElement extends DsElementMixin(window.HTMLDivElement) {\n      get dsContent () {\n        return this.innerHTML\n      }\n\n      set dsContent (value) {\n        this.innerHTML = value\n      }\n    }\n\n    class DsButtonElement extends DsElementMixin(window.HTMLButtonElement) {\n      constructor () {\n        super()\n\n        this.addEventListener('click', (e) => {\n          this.$action('dsEvent/emit', {\n            id: this.elementId,\n            name: 'click'\n          })\n        })\n      }\n\n      get dsContent () {\n        return this.innerHTML\n      }\n\n      set dsContent (value) {\n        this.innerHTML = value\n      }\n    }\n\n    class DsInputElement extends DsElementMixin(window.HTMLInputElement) {\n      constructor () {\n        super()\n\n        this.addEventListener('input', (e) => {\n          this.$action('dsEvent/emit', {\n            id: this.elementId,\n            name: 'input',\n            payload: e.target.value\n          })\n        })\n      }\n\n      get dsContent () {\n        return this.value\n      }\n\n      set dsContent (value) {\n        this.value = value\n      }\n    }\n\n    class DsLabelElement extends DsElementMixin(window.HTMLLabelElement) {\n      get dsContent () {\n        return this.innerHTML\n      }\n\n      set dsContent (value) {\n        this.innerHTML = value\n      }\n    }\n\n    class DsTextAreaElement extends DsElementMixin(window.HTMLTextAreaElement) {\n      constructor () {\n        super()\n\n        this.addEventListener('input', (e) => {\n          this.$action('dsEvent/emit', {\n            id: this.elementId,\n            name: 'input',\n            payload: e.target.value\n          })\n        })\n      }\n\n      get dsContent () {\n        return this.innerText\n      }\n\n      set dsContent (value) {\n        this.innerText = value\n      }\n    }\n\n    class DsText extends window.Text {\n      get dsContent () {\n        return this.textContent\n      }\n\n      set dsContent (value) {\n        this.textContent = value\n      }\n    }\n\n    window.DsText = DsText\n    window.customElements.define('ds-div', DsDivElement, { extends: 'div' })\n    window.customElements.define('ds-button', DsButtonElement, { extends: 'button' })\n    window.customElements.define('ds-input', DsInputElement, { extends: 'input' })\n    window.customElements.define('ds-label', DsLabelElement, { extends: 'label' })\n    window.customElements.define('ds-textarea', DsTextAreaElement, { extends: 'textarea' })\n  },\n  methods: {\n    create (context, item) {\n      const component = this._getComponent(item.id)\n      const attributes = []\n\n      if (item.classList) {\n        attributes.push(['class', item.classList.join(' ')])\n      }\n\n      if (item.attributes) {\n        component.attributes = { ...component.attributes, ...item.attributes }\n\n        for (const key in component.attributes) {\n          attributes.push([key, component.attributes[key]])\n        }\n      } else if (component.attributes) {\n        for (const key in component.attributes) {\n          attributes.push([key, component.attributes[key]])\n        }\n      }\n\n      return this._createHTMLElement(component.tag, component.is, attributes)\n    },\n    createNode (context, id) {\n      return this.items[id]\n    },\n    _getComponent (id) {\n      return { ...this.items[id] }\n    },\n    _createHTMLElement (tag, is, attributes = []) {\n      const element = document.createElement(tag, { is })\n\n      element.$action = this.$action\n\n      for (let i = 0; i < attributes.length; i++) {\n        element.setAttribute(attributes[i][0], attributes[i][1])\n      }\n\n      return element\n    }\n  }\n}\n","import { name, version } from '../ds.plugin.config'\n\n/**\n * Ds content plugin.\n * @module plugin\n */\nexport default {\n  name,\n  version,\n  dependencies: [\n    {\n      name: 'dsUtilities',\n      version: 1\n    }\n  ],\n  data: {\n    items: {},\n    observers: {},\n    defaultItems: {\n      text: {\n        value: '',\n        type: 'text'\n      },\n      image: {\n        value: {\n          src: '',\n          alt: ''\n        }\n      },\n      html: {\n        type: 'html',\n        value: ''\n      }\n    }\n  },\n  methods: {\n    create (context, items) {\n      const content = []\n\n      for (let i = 0; i < items.length; i++) {\n        const id = this.$getter('dsUtilities/generateInstanceId')\n        const type = items[i].type\n        const item = this._generateContent(type, items[i].value)\n\n        this.items[id] = item\n\n        content.push({ id, type })\n      }\n\n      return content\n    },\n    remove (context, { id }) {\n      if (this.items[id]) {\n        delete this.items[id]\n      }\n    },\n    set (context, item) {\n      this.items = { ...this.items, ...item }\n    },\n    subscribe (context, { id, item }) {\n      const content = this._getContent(id)\n\n      if (content) {\n        this._setObserver(id, item)\n      }\n    },\n    unsubscribe (context, { id, item }) {\n      const observers = this._getObservers(id)\n      const index = observers.indexOf(item)\n\n      if (index > -1) {\n        observers.splice(index, 1)\n      }\n    },\n    update (context, { id, value }) {\n      const content = this._getContent(id)\n\n      if (content) {\n        content.value = value\n\n        this._updateObservers(id, value)\n      }\n    },\n    _generateContent (type, value) {\n      const content = { ...this.defaultItems[type] }\n\n      if (value) {\n        content.value = value\n      }\n\n      return content\n    },\n    _getContent (id) {\n      return this.items[id]\n    },\n    _setObserver (id, item) {\n      const observers = this._getObservers(id)\n      const content = this._getContent(id)\n\n      if (observers.length) {\n        const index = observers.indexOf(item)\n\n        if (index === -1) {\n          observers.push(item)\n        }\n      } else {\n        this.observers[id] = [item]\n      }\n\n      this._updateObserver(id, item, content.value)\n    },\n    _getObservers (id) {\n      return this.observers[id] || []\n    },\n    _updateObserver (id, observer, value) {\n      const observers = this._getObservers(id)\n      const index = observers.indexOf(observer)\n\n      if (index > -1) {\n        observers[index].dsContent = value\n      }\n    },\n    _updateObservers (id, value) {\n      const observers = this._getObservers(id)\n\n      for (let i = 0; i < observers.length; i++) {\n        observers[i].dsContent = value\n      }\n    }\n  }\n}\n","import { name, version } from '../ds.plugin.config'\n\nexport default {\n  name,\n  version,\n  data: {\n    operators: {\n      '==': v => v[0] === v[1],\n      '!=': v => v[0] !== v[1],\n      '>': v => v[0] > v[1],\n      '>=': v => v[0] >= v[1],\n      '<': v => v[0] < v[1],\n      '<=': v => v[0] <= v[1],\n      '!': v => !v[0],\n      '!!': v => !!v[0],\n      '%': v => v[0] % v[1],\n      '++x': v => ++v[0],\n      'x++': v => v[0]++,\n      '--x': v => --v[0],\n      'x--': v => v[0]--,\n      '-': v => v[0] - v[1],\n      '+': v => v[0] + v[1],\n      '*': v => v[0] * v[1],\n      '**': v => v[0] ** v[1]\n    }\n  },\n  methods: {\n    /**\n     * Evaluate two values\n     * @param {Object} eval - The Object containing the data to evaluate two values\n     * @param {string} eval.name - Operator name\n     * @param {string[]|number[]} eval.values - Contains two values to be evaluated\n     */\n    eval ({ name, values }) {\n      return this.operators[name](values)\n    },\n    /**\n     * Compare two or more values\n     * @param {string[]|number[]} values - Contains two values or more values which are compared\n     */\n    compare (values) {\n      let result = false\n\n      for (let i = 0; i < values.length; i++) {\n        const value = values[i]\n\n        if (value === '&&') {\n          if ((values[i - 1] && values[i + 1])) {\n            result = true\n          } else {\n            break\n          }\n        }\n\n        if (value === '||') {\n          if ((values[i - 1] || values[i + 1])) {\n            result = true\n          } else {\n            break\n          }\n        }\n      }\n\n      return result\n    },\n    /**\n     * Remove items from an array\n     * @param {Object} arrayRemove - The Object containing the data to remove a group of items from an array\n     * @param {*[]} arrayRemove.list - The source array\n     * @param {number[]} arrayRemove.items - A list of indexes that will be removed\n     */\n    arrayRemove ({ list, items }) {\n      const newList = []\n\n      for (let i = 0; i < list.length; i++) {\n        let hasItem = false\n\n        for (let j = 0; j < items.length; j++) {\n          if (i === items[j]) {\n            hasItem = true\n            break\n          }\n        }\n\n        if (!hasItem) {\n          newList.push(list[i])\n        }\n      }\n\n      return newList\n    },\n    /**\n     * Find the next key value pair in a list\n     * @param {Object} nextKeyValue - The Object containing the params\n     * @param {*[]} nextKeyValue.list - An array of objects\n     * @param {string} nextKeyValue.key - The key used to compare\n     * @param {number} nextKeyValue.index - The index starting point\n     * @returns {[*, number]} An array with the found value and index\n     */\n    arrayNextKeyValue ({ list, key, index = 0 }) {\n      const currentValue = list[index][key]\n\n      for (let i = index; i < list.length; i++) {\n        if (list[i][key] !== currentValue) {\n          return [list[i][key], i]\n        }\n      }\n\n      return [currentValue, index]\n    },\n    /**\n     * Find the previous key value pair in a list\n     * @param {Object} nextKeyValue - The Object containing the params\n     * @param {*[]} nextKeyValue.list - An array of objects\n     * @param {string} nextKeyValue.key - The key used to compare\n     * @param {number} nextKeyValue.index - The index starting point\n     * @returns {[*, number]} An array with the found value and index\n     */\n    arrayPrevKeyValue ({ list, key, index = 0 }) {\n      const currentValue = list[index][key]\n\n      for (let i = index; i >= 0; i--) {\n        if (list[i][key] !== currentValue) {\n          return [list[i][key], i]\n        }\n      }\n\n      return [currentValue, index]\n    },\n    /**\n     * Find the indexes of objects within a list by key value pairs\n     * @param {Object} findByKeyValue - The Object containing the params\n     * @param {*[]} findByKeyValue.list - An array of objects\n     * @param {string} findByKeyValue.key - The key used to compare\n     * @param {[string, number]} findByKeyValue.valueIndex - The value uses to compare and the index starting point\n     * @returns {[number, number]} An array with the start and end numbered indexes, -1 indicates there was only 1 item found within a group\n     */\n    arrayFindByKeyValue ({ list, key, valueIndex }) {\n      const value = valueIndex[0]\n      const index = valueIndex[1] || 0\n      const hasValue = (i) => (list[i] && list[i][key] === value)\n      const rangeItem = []\n\n      for (let i = index; i < list.length; i++) {\n        const item = list[i]\n\n        if (item[key] === value) {\n          const nextIndex = i + 1\n\n          if (rangeItem.length) {\n            if (!hasValue(nextIndex)) {\n              rangeItem.push(i)\n\n              return rangeItem\n            }\n          } else {\n            let prevIndex = i - 1\n\n            if (index && hasValue(prevIndex)) {\n              while (hasValue(prevIndex)) {\n                prevIndex--\n              }\n\n              rangeItem.push(prevIndex + 1)\n\n              // check if item is not in a group\n              if (!hasValue(nextIndex)) {\n                rangeItem.push(i)\n\n                return rangeItem\n              }\n            } else {\n              rangeItem.push(i)\n\n              // check if item is not in a group\n              if (!hasValue(nextIndex)) {\n                rangeItem.push(i)\n\n                return rangeItem\n              }\n\n              // if last item in the list push the rangeItem\n              if (nextIndex === list.length) {\n                rangeItem.push(i)\n\n                return rangeItem\n              }\n            }\n          }\n        }\n      }\n    },\n    /**\n     * Move a group of items to a new position in an array\n     * @param {Object} arrayMove - The Object containing the data to move a group of items within an array\n     * @param {*[]} arrayMove.list - The source array\n     * @param {number[]} arrayMove.items - A list of indexes that need to move\n     * @param {number} arrayMove.index - The location the items will move to within the array\n     * @returns {Array} - New transformed array\n     */\n    arrayMove ({ list, items, index }) {\n      const length = items.length\n      let indexEnd = index - (length - 1)\n\n      if (indexEnd > list.length - 1 || (indexEnd < 0 && index < 0)) {\n        return\n      } else if (indexEnd <= 0 && index >= 0) {\n        indexEnd = index\n      }\n\n      const listMiddle = []\n      // Create middle of array with new group items\n      for (let i = 0; i < length; i++) {\n        listMiddle.push(list[items[i]])\n      }\n\n      items.sort((a, b) => a - b)\n      const startList = list\n      let offset = 1\n      // Remove moved items\n      for (let i = 0; i < length; i++) {\n        startList.splice(items[i], 1)\n\n        const nextIndex = i + 1\n        if (nextIndex < length) {\n          items[nextIndex] = items[nextIndex] - offset\n          ++offset\n        }\n      }\n      // Create end of array\n      const listEnd = startList.splice(indexEnd)\n\n      return startList.concat(listMiddle, listEnd)\n    },\n    /**\n     * Merge items into array with the option to flatten\n     * @param {Object} arrayMerge - The Object containing the data to merge items into an array\n     * @param {array} arrayMerge.list - The source array\n     * @param {Object[]} arrayMerge.items - An array of objects which contains the item and position it should be placed into the array\n     * @param {*} arrayMerge.items[].value - The value to be merged into the original array\n     * @param {number} arrayMerge.items[]._$index - The index the value will be placed into the original array\n     * @param {number} arrayMerge.flat - Flatten height\n     * @returns {Array} - A new list\n     */\n    arrayMerge ({ list, items, flat }) {\n      let offset = 0\n      items.sort((a, b) => a._$index - b._$index)\n\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i]\n        const index = item._$index + offset\n        delete item._$index\n        const listMiddle = [item]\n        const listEnd = list.splice(index)\n        list = list.concat(listMiddle, listEnd)\n        ++offset\n      }\n\n      if (flat) {\n        list = list.flat(flat)\n      }\n\n      return list\n    }\n  }\n}\n","import { name, version } from '../ds.plugin.config'\n\n/**\n * Dooksa event plugin.\n * @module plugin\n */\nexport default {\n  name,\n  version,\n  dependencies: [\n    {\n      name: 'dsAction',\n      version: 1\n    }\n  ],\n  data: {\n    items: {}\n  },\n  methods: {\n    addListener (context, { id, name, payload }) {\n      name = context.name + '/' + name\n\n      if (this.items[id]) {\n        if (this.items[id][name]) {\n          this.items[id][name].push(payload)\n        } else {\n          this.items[id][name] = [payload]\n        }\n      } else {\n        this.items[id] = {\n          [name]: [payload]\n        }\n      }\n    },\n    emit (context, { id, name, payload }) {\n      const actions = this._listener(id, context.name + '/' + name)\n      console.log(id, name, payload)\n      for (let i = 0; i < actions.length; i++) {\n        this.$action('dsAction/dispatch', { id: actions[i], payload })\n      }\n    },\n    removeListener (context, { id, name, value }) {\n      if (this.items[id]) {\n        name = context.name + '/' + name\n\n        if (this.items[id][name]) {\n          const items = this.items[id][name]\n          const list = []\n\n          for (let i = 0; i < items.length; i++) {\n            if (items[i] !== value) {\n              list.push(items[i])\n            }\n          }\n\n          if (!list.length) {\n            delete this.items[id][name]\n          } else {\n            this.items[id][name] = list\n          }\n        }\n      }\n    },\n    _listener (id, name) {\n      if (this.items[id]) {\n        return this.items[id][name] ? [...this.items[id][name]] : []\n      }\n\n      return []\n    }\n  }\n}\n","import { name, version } from '../ds.plugin.config'\n\nexport default {\n  name,\n  version,\n  data: {\n    params: {},\n    usedBy: {},\n    instance: {}\n  },\n  methods: {\n    process ({\n      id,\n      itemId,\n      parentItemId,\n      paramType,\n      params,\n      data,\n      results,\n      variables,\n      lastItem,\n      debug\n    }) {\n      if (debug) {\n        debugger\n      }\n\n      const config = { id, itemId, parentItemId }\n\n      if (!this.instance[id]) {\n        this.instance[id] = {\n          data: {},\n          iteration: {},\n          variables: {},\n          results: {}\n        }\n      }\n\n      if (data) {\n        this.instance[id].data = data\n      }\n\n      if (results) {\n        this.instance[id].results[parentItemId] = results\n      }\n\n      if (variables) {\n        variables = this._processVariables(variables, config)\n\n        this.instance[id].variables = {\n          ...this.instance[id].variables,\n          ...variables\n        }\n      }\n\n      const result = this['_data/' + paramType](params, config)\n\n      if (lastItem) {\n        delete this.instance[id]\n      }\n\n      return result\n    },\n    setParams ({ id, item, usedBy }) {\n      this.params[id] = item\n    },\n    _getParam (item, instanceId) {\n      if (item._$id) {\n        return this.params[item._$id]\n      }\n\n      return item\n    },\n    _get (item, config) {\n      if (!item._$computed &&\n        !item._$computedParams &&\n        !item._$id) {\n        return item\n      }\n\n      item = this._getParam(item, config.id)\n\n      if (item._$computedParams) {\n        return this.process({ ...item, ...config })\n      }\n\n      return this['_' + item.name](\n        this._getParam(item.params, config.id),\n        config\n      )\n    },\n    _getValue (item, data) {\n      if (Object.hasOwnProperty.call(data, item)) {\n        return data[item]\n      }\n\n      if (Object.hasOwnProperty.call(item, 'value')) {\n        return data\n      }\n\n      if (Object.hasOwnProperty.call(item, 'key')) {\n        const key = item.key\n        const dotNotations = key.split('.')\n        let result = { ...data }\n\n        for (let i = 0; i < dotNotations.length; i++) {\n          const key = dotNotations[i]\n\n          if (Object.hasOwnProperty.call(data, key)) {\n            result = data[key]\n          } else {\n            return result\n          }\n        }\n\n        return result\n      }\n\n      if (Object.hasOwnProperty.call(item, 'index')) {\n        return data[item.index]\n      }\n\n      if (Object.hasOwnProperty.call(item, 'indexes')) {\n        const result = []\n\n        for (let i = 0; i < item.indexes.length; i++) {\n          const index = item[i]\n\n          result.push(data[index])\n        }\n\n        return result\n      }\n\n      const result = {}\n\n      for (let i = 0; i < item.length; i++) {\n        const key = item[i]\n        result[key] = data[key]\n      }\n\n      return result\n    },\n    _getVariable (item, config) {\n      const variable = this.instance[config.id].variables[item]\n\n      if (variable) {\n        if (Array.isArray(variable)) {\n          return [...variable]\n        } else if (typeof variable === 'object') {\n          return { ...variable }\n        } else {\n          return variable\n        }\n      }\n    },\n    _arrayTransform (item, config) {\n      const map = item.map\n      const flat = item.flat\n      let results = []\n      let list = item.list\n\n      if (list._$computed) {\n        list = this._get(list, config)\n      }\n\n      for (let index = 0; index < list.length; index++) {\n        const listItem = list[index]\n        const mapItems = []\n\n        for (let i = 0; i < map.length; i++) {\n          const mapItem = {}\n\n          for (let j = 0; j < map[i].length; j++) {\n            const k = map[i][j][0]\n            const v = map[i][j][1]\n\n            if (listItem[v]) {\n              mapItem[k] = listItem[v]\n            } else if (Object.hasOwnProperty.call(v, 'value')) {\n              mapItem[k] = v.value\n            } else if (Object.hasOwnProperty.call(v, 'key')) {\n              const key = v.key\n              const dotNotation = key.split('.')\n              let result = listItem\n\n              for (let i = 0; i < dotNotation.length; i++) {\n                const dKey = dotNotation[i]\n\n                if (result[dKey]) {\n                  result = result[dKey]\n                }\n              }\n\n              mapItem[k] = result\n            } else if (Object.hasOwnProperty.call(v, 'index')) {\n              mapItem[k] = index\n            } else {\n              this.instance[config.id].iteration = {\n                ...listItem,\n                _$index: index\n              }\n\n              mapItem[k] = this._get(v, config)\n            }\n          }\n\n          if (item.onIteration) {\n            this.instance[config.id].iteration = {\n              ...mapItem,\n              _$index: index\n            }\n\n            this.$context.method('dsWorkflow/rules', {\n              ...item.onIteration,\n              id: config.id,\n              itemId: config.itemId,\n              parentItemId: config.parentItemId\n            })\n          }\n\n          mapItems.push(mapItem)\n        }\n\n        results.push(mapItems)\n      }\n\n      if (flat) {\n        results = results.flat(flat)\n      }\n\n      return results\n    },\n    _eval (expression, config, result) {\n      for (let i = 0; i < expression.length; i++) {\n        const item = expression[i]\n        const values = this._processValues(item.values, config)\n\n        result += this.$context.method('dsOperators/eval', { name: item.name, values })\n      }\n\n      return result\n    },\n    _evalBoolean (expression, config) {\n      return !!this._eval(expression, config, false)\n    },\n    _evalNumber (expression, config) {\n      return this._eval(expression, config, 0)\n    },\n    _evalString (expression, config) {\n      return this._eval(expression, config, '')\n    },\n    _processValues (values, config) {\n      const result = []\n\n      for (let i = 0; i < values.length; i++) {\n        const item = values[i]\n\n        if (item.value) {\n          result.push(item.value)\n        } else {\n          result.push(this._get(item, config))\n        }\n      }\n\n      return result\n    },\n    _processVariables (variables, config) {\n      const result = {}\n\n      for (let i = 0; i < variables.length; i++) {\n        const key = variables[i][0]\n        const item = variables[i][1]\n\n        if (item.value) {\n          result[key] = item.value\n        } else {\n          result[key] = this._get(item, config)\n        }\n      }\n\n      return result\n    },\n    '_getter/app/state' (item, config) {\n      let params\n\n      if (item.params) {\n        params = this._get(item.params, config)\n      }\n\n      const result = this.$context.store.getters[item.name](params)\n\n      if (item.return) {\n        return this._getValue(item.return, result)\n      }\n\n      return result\n    },\n    '_getter/plugin/method' (item, config) {\n      let params\n\n      if (item.params) {\n        params = this._get(this._getParam(item.params, config.id), config)\n      }\n\n      const result = this.$context.method(item.name, params)\n\n      if (item.return) {\n        return this._getValue(item.return, result)\n      }\n\n      return result\n    },\n    '_getter/this/id' (item, { id }) {\n      return this.instance[id].data.id\n    },\n    '_getter/this/instanceId' (item, { id }) {\n      return this.instance[id].data.instanceId\n    },\n    '_getter/this/value' (item, { id }) {\n      const data = this.instance[id].data.value\n\n      if (item) {\n        return this._getValue(item, { ...data })\n      }\n\n      return data\n    },\n    '_getter/iteration/value' (item, { id }) {\n      const data = this.instance[id].iteration\n\n      if (item) {\n        return this._getValue(item, { ...data })\n      }\n\n      return data\n    },\n    '_getter/parent/value' (item, { id, parentItemId }) {\n      if (item._$itemId) {\n        parentItemId = item._$itemId\n      }\n\n      const data = this.instance[id].results[parentItemId]\n\n      if (Object.hasOwnProperty.call(data, item)) {\n        return data[item]\n      }\n\n      if (Object.hasOwnProperty.call(item, 'value')) {\n        return data\n      }\n\n      if (Object.hasOwnProperty.call(item, 'key')) {\n        const key = item.key\n        const dotNotations = key.split('.')\n        let result = data\n\n        for (let i = 0; i < dotNotations.length; i++) {\n          const key = dotNotations[i]\n\n          if (result[key]) {\n            result = result[key]\n          } else {\n            return result\n          }\n        }\n      }\n    },\n    '_getter/parent/array' (item, { id, parentItemId }) {\n      const result = []\n\n      if (item._$itemId) {\n        parentItemId = item._$itemId\n      }\n\n      const data = this.instance[id].results[parentItemId]\n\n      for (let i = 0; i < item.indexes.length; i++) {\n        const index = item[i]\n\n        result.push(data[index])\n      }\n\n      return result\n    },\n    '_getter/parent/object' (item, { id, parentItemId }) {\n      const results = {}\n\n      if (item._$itemId) {\n        parentItemId = item._$itemId\n      }\n\n      const data = this.instance[id].results[parentItemId]\n\n      for (let i = 0; i < item.keys.length; i++) {\n        const key = item[i]\n        const dotNotations = key.split('.')\n        let result = data\n\n        for (let i = 0; i < dotNotations.length; i++) {\n          const key = dotNotations[i]\n\n          if (result[key]) {\n            result = result[key]\n          }\n        }\n\n        results[key] = result\n      }\n\n      return results\n    },\n    '_data/array' (params, config) {\n      const result = []\n\n      for (let i = 0; i < params.length; i++) {\n        result.push(this._get(params[i], config))\n      }\n\n      return result\n    },\n    '_data/object' (params, config) {\n      const result = {}\n\n      for (let i = 0; i < params.length; i++) {\n        const item = params[i]\n\n        result[item[0]] = this._get(item[1], config)\n      }\n\n      return result\n    },\n    '_data/value' (params, config) {\n      return this._get(params, config)\n    }\n  }\n}\n","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (false) {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","import { name, version } from '../ds.plugin.config'\n// ISSUE: [DS-599] use script loader if nano id are not needed for page rendering\nimport { customAlphabet } from 'nanoid'\n\nexport default {\n  name,\n  version,\n  data: {\n    docId: null,\n    instanceId: null\n  },\n  setup ({ docId, instanceId }) {\n    this.docId = customAlphabet(docId.alphabet, docId.alphabetLength)\n    this.instanceId = customAlphabet(instanceId.alphabet, instanceId.alphabetLength)\n  },\n  getters: {\n    /**\n     * Generate firebase UUID\n     */\n    generateDocId () {\n      return this.docId()\n    },\n    /**\n     * Generate ds instance UUID\n     */\n    generateInstanceId () {\n      return this.instanceId()\n    }\n  }\n}\n","/**\n * @classdesc Plugins are used to extend and customise the Dooksa application builder.\n * @class\n * @param {Object} plugin - The plugin object used by the Plugin constructor.\n * @param {string} plugin.name - The name of the plugin.\n * @param {number} plugin.version - The version of the plugin.\n * @param {Object[]} plugin.dependencies - List of dependent plugins, e.g. if this plugin x used y by running an action: x.$action('y', params).\n * @param {string} plugin.dependencies[].name - The name of the dependent plugin.\n * @param {number} plugin.dependencies[].version - The version of the dependent plugin.\n * @param {Object} plugin.setup - This .\n * @param {Object.<string, (number|boolean|string|array|object)>} plugin.data - The object that contains plugins data.\n * @param {Object.<string, object>} plugin.getters - The version of the plugin.\n * @param {Object.<string, object>} plugin.methods - The version of the plugin.\n * @param {Object[]} context - Context is shared data between plugins.\n * @param {string} context.name - The name will be the key used within the plugin, e.g. '$action' = this.$action\n * @param {number} context.dispatch - If true the context.value (function) return value will be used.\n * @param {(string|object)} context.value - The value of the context.\n */\nfunction Plugin (plugin, context = []) {\n  this.name = plugin.name\n  this.version = plugin.version\n  this._context = {}\n  // set data to context\n  if (plugin.data) {\n    this._context = { ...plugin.data }\n  }\n  // set context to plugin\n  for (let i = 0; i < context.length; i++) {\n    const item = context[i]\n    const pluginMetadata = {\n      name: plugin.name,\n      version: plugin.version,\n      dependencies: plugin.dependencies\n    }\n\n    if (item.dispatch) {\n      this._context[item.name] = item.value(pluginMetadata)\n    } else {\n      this._context[item.name] = item.value\n    }\n  }\n  // set dependencies\n  if (plugin.dependencies) {\n    this.dependencies = plugin.dependencies\n  }\n  // set getters\n  if (plugin.getters) {\n    const getters = {}\n\n    for (const key in plugin.getters) {\n      if (Object.hasOwnProperty.call(plugin.getters, key)) {\n        const item = plugin.getters[key]\n        // Add getter\n        Object.defineProperty(this._context, key, { get: item })\n        // Catch the public getter\n        if (key.charAt(0) !== '_') {\n          getters[key] = item.bind(this._context)\n        }\n      }\n    }\n\n    this.getters = getters\n  }\n  // set methods\n  if (plugin.methods) {\n    const methods = {}\n\n    for (const key in plugin.methods) {\n      if (Object.hasOwnProperty.call(plugin.methods, key)) {\n        const item = plugin.methods[key]\n\n        this._context[key] = item\n\n        // Catch the public method\n        if (key.charAt(0) !== '_') {\n          methods[key] = item.bind(this._context)\n        }\n      }\n    }\n\n    this.methods = methods\n  }\n  // set setup function\n  if (plugin.setup) {\n    this.setup = plugin.setup.bind(this._context)\n  }\n}\n\n/**\n * Runs the setup function within the plugin if present, this function is intended to be used by the parent plugin\n * @param {Object, <string, (number|boolean|string|array|object)>} params - These are the parameters required by the setup function\n * @returns {(number|boolean|string|array|object)}\n */\nPlugin.prototype.init = function (params) {\n  if (this.setup) {\n    return this.setup(params)\n  }\n}\n\nexport default Plugin\n","function ScriptLoader ({\n  id,\n  async,\n  crossOrigin,\n  defer,\n  integrity,\n  nonce,\n  referrerPolicy,\n  src,\n  type = 'text/javascript',\n  nomodule,\n  customParams = [],\n  globalVars\n}) {\n  this.queue = []\n  this.loaded = false\n  this.id = `sl__${id}`\n  this.async = async\n  this.crossOrigin = crossOrigin\n  this.defer = defer\n  this.integrity = integrity\n  this.nonce = nonce\n  this.referrerPolicy = referrerPolicy\n  this.src = src\n  this.type = type\n  this.nomodule = nomodule\n  this.customParams = customParams\n  this.globalVars = globalVars\n}\n\nScriptLoader.prototype.loading = function () {\n  return Promise.all(this.queue)  \n}\n\nScriptLoader.prototype.load = function (config) {\n  const loadScript = new Promise((resolve, reject) => {\n    const url = this.createUrl(config)\n\n    this.setScript({ url, resolve, reject })\n  })\n\n  this.queue.push(loadScript)\n\n  return loadScript\n}\n\nScriptLoader.prototype.createUrl = function (config) {\n  let url = this.src\n\n  for (let i = 0; i < this.customParams.length; i++) {\n    const paramKey = this.customParams[i]\n\n    url = url.replace(`${paramKey}=`, `${paramKey}=${config[paramKey]}`)\n  }\n\n  return url\n}\n\nScriptLoader.prototype.setScript = function ({ url, resolve, reject }) {\n  if (document.getElementById(this.id)) {\n    return\n  }\n\n  const script = document.createElement('script')\n\n  script.id = this.id\n  script.type = this.type\n  script.src = url\n  script.onerror = () => reject()\n  script.onload = () => {\n    this.loaded = true\n    const result = {}\n\n    if (this.globalVars) {\n      for (let i = 0; i < this.globalVars.length; i++) {\n        const globalVar = this.globalVars[i]\n        result[globalVar] = window[globalVar]\n      }\n    }\n\n    resolve(result)\n  }\n\n  if (this.async) {\n    script.async = this.async\n  }\n\n  if (this.crossOrigin) {\n    script.crossOrigin = this.crossOrigin\n  }\n\n  if (this.defer) {\n    script.defer = this.defer\n  }\n\n  if (this.integrity) {\n    script.integrity = this.integrity\n  }\n\n  if (this.referrerPolicy) {\n    script.referrerPolicy = this.referrerPolicy\n  }\n\n  if (this.nomodule) {\n    script.nomodule = this.nomodule\n  }\n\n  if (this.nonce) {\n    script.nonce = this.nonce\n  }\n\n  document.head.appendChild(script)\n}\n\nexport default ScriptLoader\n","import { name, version } from '../ds.plugin.config'\nimport DsPlugin from '../../ds-plugins'\nimport ScriptLoader from '@dooksa/script-loader'\n\n/**\n * Ds plugin manager\n * @module plugin\n */\nexport default {\n  name,\n  version,\n  data: {\n    _methods: {},\n    _getters: {},\n    buildId: '',\n    additionalPlugins: {},\n    plugins: {},\n    appBuildId: '',\n    appPlugins: [],\n    appAdditionalPlugins: [],\n    queue: {},\n    isLoaded: {},\n    setupOnRequest: {},\n    setupOnRequestQueue: {},\n    metadata: {},\n    context: {}\n  },\n  setup ({\n    buildId,\n    plugins = [],\n    additionalPlugins = [],\n    isDev\n  }) {\n    this.buildId = buildId\n    this.context = [\n      {\n        name: 'isDev',\n        dispatch: false,\n        value: isDev\n      },\n      {\n        name: '$Script',\n        dispatch: false,\n        value: ScriptLoader // replace with ds-plugin-element\n      },\n      {\n        name: '$action',\n        dispatch: true,\n        value: this._action.bind(this)\n      },\n      {\n        name: '$method',\n        dispatch: true,\n        value: this._method.bind(this)\n      },\n      {\n        name: '$getter',\n        dispatch: false,\n        value: this._getter.bind(this)\n      }\n    ]\n\n    this._add({\n      name,\n      methods: {\n        use: this.use\n      }\n    })\n\n    this.isLoaded[name] = true\n\n    for (let i = 0; i < plugins.length; i++) {\n      const data = plugins[i]\n\n      this.plugins[data.item.name] = data.item.version\n      this.use({}, data)\n    }\n\n    for (let i = 0; i < additionalPlugins.length; i++) {\n      const data = additionalPlugins[i]\n\n      this.additionalPlugins[data.item.name] = data.item.version\n      this.use({}, data)\n    }\n  },\n  methods: {\n    _actionExists (name) {\n      return (this._methods[name])\n    },\n    _addMetadata (data) {\n      if (this.queue[data.name]) {\n        delete this.queue[data.name]\n      }\n\n      this.isLoaded[data.name] = false\n      this.metadata[data.name] = data\n    },\n    _callbackWhenAvailable (name, callback) {\n      if (this._actionExists(name)) {\n        return callback()\n      }\n\n      const nameSplit = name.split('/')\n      const baseName = nameSplit[0]\n\n      if (this.queue[baseName] && !this.setupOnRequest[baseName]) {\n        this._isLoading(baseName).then(() => {\n          if (this._actionExists(name)) {\n            callback()\n          } else {\n            console.error('action does not exist: ' + name)\n          }\n        })\n      } else if (this.setupOnRequest[baseName]) {\n        this._isLoading(baseName).then(() => {\n          this.use({}, { item: { name: baseName } }).then(() => {\n            if (this._actionExists(name)) {\n              callback()\n            } else {\n              console.error('action does not exist: ' + name)\n            }\n          })\n        })\n      } else if (this.metadata[baseName]) {\n        this.use({}, { item: { name: baseName } }).then(() => {\n          if (this._actionExists(name)) {\n            callback()\n          } else {\n            console.error('action does not exist: ' + name)\n          }\n        })\n      } else {\n        console.error('action does not exist: ' + name)\n      }\n    },\n    _install (name, pluginImport, setupOnRequest) {\n      return new Promise((resolve, reject) => {\n        this.isLoaded[name] = false\n        this.setupOnRequest[name] = !!setupOnRequest\n\n        this._load(name, pluginImport)\n          .then(({ plugin, setupOptions }) => {\n            const queue = []\n\n            if (setupOnRequest) {\n              this.setupOnRequestQueue[name] = plugin\n\n              return resolve()\n            } else if (plugin.dependencies) {\n              const depQueue = []\n\n              for (let i = 0; i < plugin.dependencies.length; i++) {\n                const depPlugin = this.use({}, {\n                  item: {\n                    name: plugin.dependencies[i].name,\n                    version: plugin.dependencies[i].version\n                  }\n                })\n\n                depQueue.push(depPlugin)\n              }\n\n              // wait for all dependencies to load\n              Promise.all(depQueue)\n                .then(() => {\n                  const dsPlugin = new DsPlugin(plugin, this.context)\n                  const setup = this._setup(dsPlugin, setupOptions)\n\n                  if (setup) {\n                    queue.push(setup)\n                  }\n\n                  // wait for plugin to setup\n                  Promise.all(queue)\n                    .then(() => {\n                      this._add(dsPlugin)\n                      this.isLoaded[name] = true\n\n                      resolve()\n                    })\n                    .catch(e => reject(e))\n                })\n                .catch(e => reject(e))\n            } else {\n              const dsPlugin = new DsPlugin(plugin, this.context)\n              const setup = this._setup(dsPlugin, setupOptions)\n\n              if (setup) {\n                queue.push(setup)\n              }\n\n              // wait for plugin to setup\n              Promise.all(queue)\n                .then(() => {\n                  this._add(dsPlugin)\n                  this.isLoaded[name] = true\n\n                  resolve()\n                })\n                .catch(e => reject(e))\n            }\n          })\n          .catch(e => reject(e))\n      })\n    },\n    _isLoading (name) {\n      return Promise.all(this.queue[name])\n    },\n    _load (name, plugin) {\n      return new Promise((resolve, reject) => {\n        let setupOptions = {}\n        let scriptOptions = {\n          id: name\n        }\n\n        if (this.metadata[name]) {\n          const metadata = this.metadata[name]\n\n          if (!metadata) {\n            const error = { statusCode: 404, message: 'Plugin not found: ' + name }\n            reject(error)\n          }\n\n          if (metadata.script) {\n            scriptOptions = { ...scriptOptions, ...metadata.script }\n          }\n\n          if (metadata.setupOptions) {\n            setupOptions = metadata.setupOptions\n          }\n        }\n\n        if (plugin) {\n          return resolve({ plugin, setupOptions })\n        } else if (this.setupOnRequestQueue[name]) {\n          plugin = this.setupOnRequestQueue[name]\n          delete this.setupOnRequestQueue[name]\n\n          return resolve({ plugin, setupOptions })\n        }\n\n        if (scriptOptions.src) {\n          const script = new ScriptLoader(scriptOptions)\n\n          script.load()\n            .then(() => {\n              const plugin = window.pluginLoader[name]\n\n              if (plugin) {\n                return resolve({ plugin, setupOptions })\n              } else {\n                const error = new Error('Plugin was not found: ' + name)\n\n                return reject(error)\n              }\n            })\n            .catch(error => reject(error))\n        } else {\n          const error = { statusCode: 404, message: 'Plugin not found: ' + name }\n\n          reject(error)\n        }\n      })\n    },\n    _action (context) {\n      return (name, params, callback = {}) => {\n        this._callbackWhenAvailable(name, () => {\n          const onSuccess = callback.onSuccess\n          const onError = callback.onError\n          const pluginResult = this._methods[name](context, params)\n\n          if (onError && pluginResult instanceof Error) {\n            if (onError.method) {\n              onError.method({ ...onError.params, results: pluginResult })\n            } else {\n              onError(pluginResult)\n            }\n          } else if (pluginResult instanceof Promise) {\n            Promise.resolve(pluginResult)\n              .then(results => {\n                if (onSuccess) {\n                  if (onSuccess.method) {\n                    onSuccess.method({ ...onSuccess.params, results })\n                  } else {\n                    onSuccess(results)\n                  }\n                }\n              })\n              .catch(error => {\n                if (onError) {\n                  if (onError.method) {\n                    onError.method({ ...onError.params, results: error })\n                  } else {\n                    onError(error)\n                  }\n                }\n              })\n          } else if (onSuccess) {\n            if (onSuccess.method) {\n              onSuccess.method({ ...onSuccess.params, results: pluginResult })\n            } else {\n              onSuccess(pluginResult)\n            }\n          }\n        })\n      }\n    },\n    _setup (plugin, options) {\n      const setup = plugin.init(options)\n\n      if (setup instanceof Promise) {\n        return setup\n      }\n    },\n    _add (plugin) {\n      if (plugin.methods) {\n        for (const key in plugin.methods) {\n          if (Object.hasOwnProperty.call(plugin.methods, key)) {\n            const method = plugin.methods[key]\n\n            this._methods[`${plugin.name}/${key}`] = method\n          }\n        }\n      }\n\n      if (plugin.getters) {\n        for (const key in plugin.getters) {\n          if (Object.hasOwnProperty.call(plugin.getters, key)) {\n            const getter = plugin.getters[key]\n            Object.defineProperty(this._getters, `${plugin.name}/${key}`, { get: getter })\n          }\n        }\n      }\n    },\n    _getter (name) {\n      return this._getters[name]\n    },\n    _method (context) {\n      return (name, params) => {\n        try {\n          if (this._methods[name]) {\n            return this._methods[name](context, params)\n          } else {\n            // Check if the plugin needs to run setup\n            throw new Error('Method \"' + name + '\" does not exist')\n          }\n        } catch (error) {\n          return error\n        }\n      }\n    },\n    use (context, { item, options = {}, plugin }) {\n      if (options.onDemand) {\n        return this._addMetadata(item)\n      }\n\n      if (this.isLoaded[item.name]) {\n        return Promise.resolve()\n      } else if (this.queue[item.name] && !this.setupOnRequest[item.name]) {\n        return this._isLoading(item.name)\n      } else {\n        this._addMetadata(item)\n        const loadingPlugin = this._install(item.name, plugin, options.setupOnRequest)\n        this.queue[item.name] = [loadingPlugin]\n      }\n    }\n  }\n}\n","import { name, version } from '../ds.plugin.config'\n\n/**\n * Ds Plugin.\n * @module plugin\n */\n\nexport default {\n  name,\n  version,\n  dependencies: [\n    {\n      name: 'dsContent',\n      version: 1\n    },\n    {\n      name: 'dsLayout',\n      version: 1\n    }\n  ],\n  data: {\n    rootElement: null\n  },\n  setup ({ rootElement, assetsURL }) {\n    this.rootElement = rootElement\n    // Cached file name for current path\n    const pathFilename = window.location.pathname.replace('/', '-') + '.js'\n    // Fetch cache json page if available\n    const script = new this.$Script({\n      id: 'firebase-auth-script',\n      src: assetsURL + '/app_cache/' + window.location.hostname + '/' + pathFilename,\n      globalVars: ['dsAppCache']\n    })\n\n    script.load()\n      .then(({ dsAppCache }) => {\n        if (dsAppCache.content) {\n          this.$method('dsContent/set', dsAppCache.content.items)\n        }\n\n        if (dsAppCache.widgets.content) {\n          this.$method('dsLayout/setContent', dsAppCache.widgets.content)\n        }\n\n        if (dsAppCache.widgets.children) {\n          this.$method('dsLayout/setChildren', dsAppCache.widgets.children)\n        }\n\n        if (dsAppCache.widgets.layout) {\n          this.$method('dsLayout/setLayout', dsAppCache.widgets.layout)\n        }\n\n        if (dsAppCache.widgets.baseItems) {\n          this.$method('dsLayout/setBaseItems', dsAppCache.widgets.baseItems)\n        }\n\n        for (let i = 0; i < 50; i++) {\n          const component = this.$method('dsLayout/create', 'layoutDocId_1')\n          this.rootElement.appendChild(component)\n        }\n\n        rootElement.classList.remove('loading')\n      })\n      .catch(e => console.error(e))\n  },\n  methods: {\n  }\n}\n","import DsPlugin from '@dooksa/ds-plugin'\nimport dsAction from '../../ds-plugin-action'\nimport dsLayout from '../../ds-plugin-layout'\nimport dsElement from '../../ds-plugin-element'\nimport dsContent from '../../ds-plugin-content'\nimport dsOperators from '../../ds-plugin-operators'\nimport dsEvent from '../../ds-plugin-event'\nimport dsParameters from '../../ds-plugin-params'\nimport dsUtilities from '../../ds-plugin-utilities'\nimport dsManager from '../../ds-plugin-manager'\nimport dsApp from '../src/app'\n\n// Core plugins\nconst plugins = [\n  {\n    item: {\n      name: dsLayout.name,\n      version: dsLayout.version\n    },\n    plugin: dsLayout,\n    options: {\n      setupOnRequest: false\n    }\n  },\n  {\n    item: {\n      name: dsElement.name,\n      version: dsElement.version\n    },\n    plugin: dsElement,\n    options: {\n      setupOnRequest: false\n    }\n  },\n  {\n    item: {\n      name: dsContent.name,\n      version: dsContent.version\n    },\n    plugin: dsContent,\n    options: {\n      setupOnRequest: false\n    }\n  },\n  {\n    item: {\n      name: dsAction.name,\n      version: dsAction.version\n    },\n    plugin: dsAction,\n    options: {\n      setupOnRequest: false\n    }\n  },\n  {\n    item: {\n      name: dsEvent.name,\n      version: dsEvent.version\n    },\n    plugin: dsEvent,\n    options: {\n      setupOnRequest: false\n    }\n  },\n  {\n    item: {\n      name: dsParameters.name,\n      version: dsParameters.version\n    },\n    plugin: dsParameters,\n    options: {\n      setupOnRequest: false\n    }\n  },\n  {\n    item: {\n      name: dsOperators.name,\n      version: dsOperators.version\n    },\n    plugin: dsOperators,\n    options: {\n      setupOnRequest: false\n    }\n  },\n  {\n    item: {\n      name: dsUtilities.name,\n      version: dsUtilities.version,\n      setupOptions: {\n        docId: {\n          alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n          alphabetLength: 20\n        },\n        instanceId: {\n          alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n          alphabetLength: 17\n        }\n      }\n    },\n    plugin: dsUtilities,\n    options: {\n      setupOnRequest: false\n    }\n  }\n]\n\nwindow.pluginLoader = {}\n\nplugins.push({\n  item: {\n    name: dsApp.name,\n    version: dsApp.version,\n    setupOptions: {\n      rootElement: document.getElementById('root'),\n      assetsURL: 'https://cdn.dooksa.com/file/dooksa'\n    }\n  },\n  plugin: dsApp,\n  options: {\n    setupOnRequest: false\n  }\n})\n\nconst pluginManager = new DsPlugin(dsManager)\n\npluginManager.init({\n  build: 1,\n  plugins,\n  isDev: true\n})\n"],"sourceRoot":""}
(()=>{var e={946:(e,t,n)=>{const{hash:s}=n(607);e.exports={name:"dsApp",filename:"ds-app",version:1,integrity:s}},607:e=>{e.exports={hash:"sha512-hkhD8NtPFiKheeJH+nk7SvMt+1e4KXqTzEHbvwRi6U3a2Jov1BY9RngE9Kf1+xW3bzjL65fDE/Uqy9wm6rOL7Q=="}},724:e=>{e.exports={name:"dsAction",filename:"ds-action",version:1}},313:(e,t,n)=>{const{hash:s}=n(633);e.exports={name:"dsContent",filename:"ds-content",version:1,integrity:s}},633:e=>{e.exports={hash:"sha512-z5UgOiTBL4qHC08JHij7jkWr88NaQCioZ76gtJZzzY0VNtu0rPTfHl1h5hGzledJT3FOv0b1ReNw7eLu+5au0w=="}},477:e=>{e.exports={name:"dsElement",filename:"ds-element",version:"1"}},737:e=>{e.exports={name:"dsEvent",filename:"ds-event",version:1}},161:e=>{e.exports={name:"dsLayout",filename:"ds-layout",version:1}},36:e=>{e.exports={name:"dsManager",filename:"ds-plugin-manager",version:1}},190:e=>{e.exports={name:"dsOperators",filename:"ds-operators",version:"0.1.0"}},425:e=>{e.exports={name:"dsParameters",filename:"ds-parameters",version:1}},966:e=>{e.exports={name:"dsUtilities",filename:"ds-utilities",version:1}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}(()=>{"use strict";function e(e,t=[]){this.name=e.name,this.version=e.version,this._context={},e.data&&(this._context={...e.data});for(let n=0;n<t.length;n++){const s=t[n],i={name:e.name,version:e.version,dependencies:e.dependencies};s.dispatch?this._context[s.name]=s.value(i):this._context[s.name]=s.value}if(e.dependencies&&(this.dependencies=e.dependencies),e.getters){const t={};for(const n in e.getters)if(Object.hasOwnProperty.call(e.getters,n)){const s=e.getters[n];Object.defineProperty(this._context,n,{get:s}),"_"!==n.charAt(0)&&(t[n]=s.bind(this._context))}this.getters=t}if(e.methods){const t={};for(const n in e.methods)if(Object.hasOwnProperty.call(e.methods,n)){const s=e.methods[n];this._context[n]=s,"_"!==n.charAt(0)&&(t[n]=s.bind(this._context))}this.methods=t}e.setup&&(this.setup=e.setup.bind(this._context))}e.prototype.init=function(e){if(this.setup)return this.setup(e)};var t=e,s=n(724),i={name:s.name,version:s.version,dependencies:[{name:"dsParameters",version:1}],data:{items:{},conditions:{},lastActionIndex:{}},methods:{dispatch({root:e,instanceId:t,parentItemId:n,actions:s=[],conditions:i=[],data:o,results:a={}}){let r=!1,l=!0,d=!1;e&&(t=nanoid(),this.lastActionIndex[t]=s.length-1),i.length&&(l=this._compare(i,{instanceId:nanoid(),parentItemId:n,data:o}));for(let e=0;e<s.length;e++){const i=s[e],c=i.itemId,h=i.items[c];if(h.conditions&&(l=this._compare(h.conditions,{instanceId:nanoid(),parentItemId:n,data:o})),Object.hasOwnProperty.call(h,"when")&&l!==h.when)return;if(Object.hasOwnProperty.call(h,"value"))return[h.value];const u={onSuccess:null,onError:null};Array.isArray(h.onSuccess)&&h.onSuccess.length&&(d=!0,u.onSuccess={params:{id,parentItemId:c,actions:this._createActions(h.onSuccess,i),data:o},method:this.rules.bind(this)}),Array.isArray(h.onError)&&h.onSuccess.length&&(d=!0,u.onError={params:{id:t,parentItemId:c,actions:this._createActions(h.onError,i),data:o},method:this.rules.bind(this)}),e!==this.lastActionIndex[id]||d||(r=!0,delete this.lastActionIndex[id]);const m=this._action({id,itemId:c,items:i.items,conditions:i.conditions,parentItemId:n,...h,callback:u,data:o,results:a,lastItem:r});m&&(a[c]=m)}return a},_createActions(e,t){const n=[];for(let s=0;s<e.length;s++)n.push({itemId:e[s],items:t.items,params:t.params});return n},_action({id:e,name:t,type:n,computedParams:s,paramType:i,paramItems:o,params:a,data:r,results:l,callback:d={},itemId:c,parentItemId:h,lastItem:u}){return s&&(a=this.$method("dsParameters/process",{id:e,itemId:c,parentItemId:h,paramType:i,params:a,paramItems:o,data:r,results:l,lastItem:u})),this["_"+n]({name:t,params:a,callback:d})},_onError(e,t,n){let s=n;t&&(s={...t,result:n}),e(s)},_onSuccess(e,t,n){let s=n;t&&(s={...t,results:n}),e(s)},_compare(e,{instanceId:t,parentItemId:n,data:s}){let i=!1,o=!1,a=[];for(let i=0;i<e.length;i++){const r=e[i],l=r.name;if("&&"===l||"||"===l)a=[...a,l],o=!0;else{const e=[],i=r.values.length-1;for(let o=0;o<r.values.length;o++){const a=r.values[o];let l=a.value;Object.hasOwnProperty.call(a,"itemId")&&(l=this._action({instanceId:t,itemId:a.itemId,parentItemId:n,paramItems:r.params,data:s,lastItem:i===o,...r.items[a.itemId]})),e.push(l)}const o=this.$method("dsOperators/eval",{name:l,values:e});a.push(o)}}if(o)i=this.$method("dsOperators/compare",a);else for(let e=0;e<a.length;e++)if(i=!0,!a[e]){i=!1;break}return i},_getProcessValue({params:e,callback:t}){const n=t.onSuccess,s=t.onError,i=e;return n&&this._onSuccess(n.method||n,n.params,i),s&&this._onError(s.method||s,s.params),i},_getter({name:e,params:t,callback:n}){const s=n.onSuccess,i=n.onError;let o;return o="function"==typeof this.$context.store.getters[e]?this.$context.store.getters[e](t):this.$context.store.getters[e],o&&s&&this._onSuccess(s.method||s,s.params,o),i&&i&&this._onError(i.method||i,i.params),o},_pluginAction({name:e,params:t,callback:n}){this.$action(e,t,n)},_pluginMethod({name:e,params:t,callback:n}){const s=n.onSuccess,i=this.$method(e,t);s&&this._onSuccess(s.method||s,s.params,i)}}},o=n(161),a={name:o.name,version:o.version,dependencies:[{name:"dsElement",version:1},{name:"dsContent",version:1}],data:{content:{},children:{},layout:{},baseItems:{},items:{}},methods:{add(e,{id:t,layout:n,content:s,children:i}){this.children[t]=i,this.layout[t]=n,this.content[t]=s},addBaseItem(e,{id:t,item:n}){this.baseItems[t]=n},create(e,t){const n=this._getLayout(t);return this._render(n)},setBaseItem(e,t){this.baseItems={...this.baseItems,...t}},setChildren(e,t){this.children={...this.children,...t}},setContent(e,t){this.content={...this.content,...t}},setLayout(e,t){this.layout={...this.layout,...t}},_content(e,t){return this.content[e][t]},_getLayout(e){return{id:e,layout:this.layout[e],children:this.children[e]}},_render({id:e,layout:t,children:n,childItems:s}){const i=new window.DocumentFragment;for(let o=0;o<n.length;o++){const a=s?s[n[o]]:t[n[o]];let r;if(r="element"===a.component.type?this.$method("dsElement/create",a.component):this.$method("dsElement/createNode",a.component.id),a.children){const n=this._sibling(t,a.children),s=this._render({id:e,layout:t,children:n.children,childItems:n.items});r.appendChild(s)}else{const t=this._content(e,a.contentIndex);this.$method("dsContent/subscribe",{id:t.id,item:r})}i.append(r)}return i},_sibling(e,t){const n={items:[],children:[]};for(let s=0;s<t.length;s++){const i=t[s];n.items.push(e[i]),n.children.push(s)}return n}}},r=n(477),l={name:r.name,version:r.version,dependencies:[{name:"dsEvent",version:1}],data:{items:{dsDiv:{is:"ds-div",tag:"div"},dsH1:{is:"ds-h1",tag:"h1"},dsH2:{is:"ds-h2",tag:"h2"},dsH3:{is:"ds-h3",tag:"h3"},dsH4:{is:"ds-h4",tag:"h4"},dsH5:{is:"ds-h5",tag:"h5"},dsH6:{is:"ds-h6",tag:"h6"},dsP:{is:"ds-p",tag:"p"},dsButton:{is:"ds-button",tag:"button"},dsImage:{is:"ds-image",tag:"img"},dsLabel:{is:"ds-label",tag:"label"},dsInput:{is:"ds-input",tag:"input"},dsTextarea:{is:"ds-textarea",tag:"textarea",attributes:{rows:"3"}},get dsText(){return new window.DsText},get dsFragment(){return new window.DocumentFragment}}},setup(){const e=e=>class extends e{constructor(){super(),this.$action=()=>{}}connectedCallback(){this.$action("dsEvent/emit",{id:this.elementId,name:"mounted"})}disconnectedCallback(){this.$action("dsEvent/emit",{id:this.elementId,name:"unmounted"})}};class t extends(e(window.HTMLDivElement)){get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class n extends(e(window.HTMLParagraphElement)){get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class s extends(e(window.HTMLHeadingElement)){get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class i extends(e(window.HTMLHeadingElement)){get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class o extends(e(window.HTMLHeadingElement)){get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class a extends(e(window.HTMLHeadingElement)){get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class r extends(e(window.HTMLHeadingElement)){get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class l extends(e(window.HTMLHeadingElement)){get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class d extends(e(window.HTMLButtonElement)){constructor(){super(),this.addEventListener("click",(e=>{this.$action("dsEvent/emit",{id:this.elementId,name:"click"})}))}get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class c extends(e(window.HTMLInputElement)){constructor(){super(),this.addEventListener("input",(e=>{this.$action("dsEvent/emit",{id:this.elementId,name:"input",payload:e.target.value})}))}get dsContent(){return this.value}set dsContent(e){this.value=e}}class h extends(e(window.HTMLLabelElement)){get dsContent(){return this.innerHTML}set dsContent(e){this.innerHTML=e}}class u extends(e(window.HTMLTextAreaElement)){constructor(){super(),this.addEventListener("input",(e=>{this.$action("dsEvent/emit",{id:this.elementId,name:"input",payload:e.target.value})}))}get dsContent(){return this.innerText}set dsContent(e){this.innerText=e}}class m extends window.Text{get dsContent(){return this.textContent}set dsContent(e){this.textContent=e}}window.DsText=m,window.customElements.define("ds-h1",s,{extends:"h1"}),window.customElements.define("ds-h2",i,{extends:"h2"}),window.customElements.define("ds-h3",o,{extends:"h3"}),window.customElements.define("ds-h4",a,{extends:"h4"}),window.customElements.define("ds-h5",r,{extends:"h5"}),window.customElements.define("ds-h6",l,{extends:"h6"}),window.customElements.define("ds-p",n,{extends:"p"}),window.customElements.define("ds-div",t,{extends:"div"}),window.customElements.define("ds-button",d,{extends:"button"}),window.customElements.define("ds-input",c,{extends:"input"}),window.customElements.define("ds-label",h,{extends:"label"}),window.customElements.define("ds-textarea",u,{extends:"textarea"})},methods:{create(e,t){const n=this._getComponent(t.id),s=[];if(t.classList&&s.push(["class",t.classList.join(" ")]),t.attributes){n.attributes={...n.attributes,...t.attributes};for(const e in n.attributes)s.push([e,n.attributes[e]])}else if(n.attributes)for(const e in n.attributes)s.push([e,n.attributes[e]]);return this._createHTMLElement(n.tag,n.is,s)},createNode(e,t){return this.items[t]},_getComponent(e){return{...this.items[e]}},_createHTMLElement(e,t,n=[]){const s=document.createElement(e,{is:t});s.$action=this.$action;for(let e=0;e<n.length;e++)s.setAttribute(n[e][0],n[e][1]);return s}}},d=n(313),c={name:d.name,version:d.version,dependencies:[{name:"dsUtilities",version:1}],data:{items:{},observers:{},defaultItems:{text:{value:"",type:"text"},image:{value:{src:"",alt:""}},html:{type:"html",value:""}}},methods:{create(e,t){const n=[];for(let e=0;e<t.length;e++){const s=this.$getter("dsUtilities/generateInstanceId"),i=t[e].type,o=this._generateContent(i,t[e].value);this.items[s]=o,n.push({id:s,type:i})}return n},remove(e,{id:t}){this.items[t]&&delete this.items[t]},set(e,t){this.items={...this.items,...t}},subscribe(e,{id:t,item:n}){this._getContent(t)&&this._setObserver(t,n)},unsubscribe(e,{id:t,item:n}){const s=this._getObservers(t),i=s.indexOf(n);i>-1&&s.splice(i,1)},update(e,{id:t,value:n}){const s=this._getContent(t);s&&(s.value=n,this._updateObservers(t,n))},_generateContent(e,t){const n={...this.defaultItems[e]};return t&&(n.value=t),n},_getContent(e){return this.items[e]},_setObserver(e,t){const n=this._getObservers(e),s=this._getContent(e);n.length?-1===n.indexOf(t)&&n.push(t):this.observers[e]=[t],this._updateObserver(e,t,s.value)},_getObservers(e){return this.observers[e]||[]},_updateObserver(e,t,n){const s=this._getObservers(e),i=s.indexOf(t);i>-1&&(s[i].dsContent=n)},_updateObservers(e,t){const n=this._getObservers(e);for(let e=0;e<n.length;e++)n[e].dsContent=t}}},h=n(190),u={name:h.name,version:h.version,data:{operators:{"==":e=>e[0]===e[1],"!=":e=>e[0]!==e[1],">":e=>e[0]>e[1],">=":e=>e[0]>=e[1],"<":e=>e[0]<e[1],"<=":e=>e[0]<=e[1],"!":e=>!e[0],"!!":e=>!!e[0],"%":e=>e[0]%e[1],"++x":e=>++e[0],"x++":e=>e[0]++,"--x":e=>--e[0],"x--":e=>e[0]--,"-":e=>e[0]-e[1],"+":e=>e[0]+e[1],"*":e=>e[0]*e[1],"**":e=>e[0]**e[1]}},methods:{eval({name:e,values:t}){return this.operators[e](t)},compare(e){let t=!1;for(let n=0;n<e.length;n++){const s=e[n];if("&&"===s){if(!e[n-1]||!e[n+1])break;t=!0}if("||"===s){if(!e[n-1]&&!e[n+1])break;t=!0}}return t},arrayRemove({list:e,items:t}){const n=[];for(let s=0;s<e.length;s++){let i=!1;for(let e=0;e<t.length;e++)if(s===t[e]){i=!0;break}i||n.push(e[s])}return n},arrayNextKeyValue({list:e,key:t,index:n=0}){const s=e[n][t];for(let i=n;i<e.length;i++)if(e[i][t]!==s)return[e[i][t],i];return[s,n]},arrayPrevKeyValue({list:e,key:t,index:n=0}){const s=e[n][t];for(let i=n;i>=0;i--)if(e[i][t]!==s)return[e[i][t],i];return[s,n]},arrayFindByKeyValue({list:e,key:t,valueIndex:n}){const s=n[0],i=n[1]||0,o=n=>e[n]&&e[n][t]===s,a=[];for(let n=i;n<e.length;n++)if(e[n][t]===s){const t=n+1;if(a.length){if(!o(t))return a.push(n),a}else{let s=n-1;if(i&&o(s)){for(;o(s);)s--;if(a.push(s+1),!o(t))return a.push(n),a}else{if(a.push(n),!o(t))return a.push(n),a;if(t===e.length)return a.push(n),a}}}},arrayMove({list:e,items:t,index:n}){const s=t.length;let i=n-(s-1);if(i>e.length-1||i<0&&n<0)return;i<=0&&n>=0&&(i=n);const o=[];for(let n=0;n<s;n++)o.push(e[t[n]]);t.sort(((e,t)=>e-t));const a=e;let r=1;for(let e=0;e<s;e++){a.splice(t[e],1);const n=e+1;n<s&&(t[n]=t[n]-r,++r)}const l=a.splice(i);return a.concat(o,l)},arrayMerge({list:e,items:t,flat:n}){let s=0;t.sort(((e,t)=>e._$index-t._$index));for(let n=0;n<t.length;n++){const i=t[n],o=i._$index+s;delete i._$index;const a=[i],r=e.splice(o);e=e.concat(a,r),++s}return n&&(e=e.flat(n)),e}}},m=n(737),p={name:m.name,version:m.version,dependencies:[{name:"dsAction",version:1}],data:{items:{}},methods:{addListener(e,{id:t,name:n,payload:s}){n=e.name+"/"+n,this.items[t]?this.items[t][n]?this.items[t][n].push(s):this.items[t][n]=[s]:this.items[t]={[n]:[s]}},emit(e,{id:t,name:n,payload:s}){const i=this._listener(t,e.name+"/"+n);console.log(t,n,s);for(let e=0;e<i.length;e++)this.$action("dsAction/dispatch",{id:i[e],payload:s})},removeListener(e,{id:t,name:n,value:s}){if(this.items[t]&&(n=e.name+"/"+n,this.items[t][n])){const e=this.items[t][n],i=[];for(let t=0;t<e.length;t++)e[t]!==s&&i.push(e[t]);i.length?this.items[t][n]=i:delete this.items[t][n]}},_listener(e,t){return this.items[e]&&this.items[e][t]?[...this.items[e][t]]:[]}}},g=n(425),f={name:g.name,version:g.version,data:{params:{},usedBy:{},instance:{}},methods:{process({id:e,itemId:t,parentItemId:n,paramType:s,params:i,data:o,results:a,variables:r,lastItem:l,debug:d}){const c={id:e,itemId:t,parentItemId:n};this.instance[e]||(this.instance[e]={data:{},iteration:{},variables:{},results:{}}),o&&(this.instance[e].data=o),a&&(this.instance[e].results[n]=a),r&&(r=this._processVariables(r,c),this.instance[e].variables={...this.instance[e].variables,...r});const h=this["_data/"+s](i,c);return l&&delete this.instance[e],h},setParams({id:e,item:t,usedBy:n}){this.params[e]=t},_getParam(e,t){return e._$id?this.params[e._$id]:e},_get(e,t){return e._$computed||e._$computedParams||e._$id?(e=this._getParam(e,t.id))._$computedParams?this.process({...e,...t}):this["_"+e.name](this._getParam(e.params,t.id),t):e},_getValue(e,t){if(Object.hasOwnProperty.call(t,e))return t[e];if(Object.hasOwnProperty.call(e,"value"))return t;if(Object.hasOwnProperty.call(e,"key")){const n=e.key.split(".");let s={...t};for(let e=0;e<n.length;e++){const i=n[e];if(!Object.hasOwnProperty.call(t,i))return s;s=t[i]}return s}if(Object.hasOwnProperty.call(e,"index"))return t[e.index];if(Object.hasOwnProperty.call(e,"indexes")){const n=[];for(let s=0;s<e.indexes.length;s++){const i=e[s];n.push(t[i])}return n}const n={};for(let s=0;s<e.length;s++){const i=e[s];n[i]=t[i]}return n},_getVariable(e,t){const n=this.instance[t.id].variables[e];if(n)return Array.isArray(n)?[...n]:"object"==typeof n?{...n}:n},_arrayTransform(e,t){const n=e.map,s=e.flat;let i=[],o=e.list;o._$computed&&(o=this._get(o,t));for(let s=0;s<o.length;s++){const a=o[s],r=[];for(let i=0;i<n.length;i++){const o={};for(let e=0;e<n[i].length;e++){const r=n[i][e][0],l=n[i][e][1];if(a[l])o[r]=a[l];else if(Object.hasOwnProperty.call(l,"value"))o[r]=l.value;else if(Object.hasOwnProperty.call(l,"key")){const e=l.key.split(".");let t=a;for(let n=0;n<e.length;n++){const s=e[n];t[s]&&(t=t[s])}o[r]=t}else Object.hasOwnProperty.call(l,"index")?o[r]=s:(this.instance[t.id].iteration={...a,_$index:s},o[r]=this._get(l,t))}e.onIteration&&(this.instance[t.id].iteration={...o,_$index:s},this.$context.method("dsWorkflow/rules",{...e.onIteration,id:t.id,itemId:t.itemId,parentItemId:t.parentItemId})),r.push(o)}i.push(r)}return s&&(i=i.flat(s)),i},_eval(e,t,n){for(let s=0;s<e.length;s++){const i=e[s],o=this._processValues(i.values,t);n+=this.$context.method("dsOperators/eval",{name:i.name,values:o})}return n},_evalBoolean(e,t){return!!this._eval(e,t,!1)},_evalNumber(e,t){return this._eval(e,t,0)},_evalString(e,t){return this._eval(e,t,"")},_processValues(e,t){const n=[];for(let s=0;s<e.length;s++){const i=e[s];i.value?n.push(i.value):n.push(this._get(i,t))}return n},_processVariables(e,t){const n={};for(let s=0;s<e.length;s++){const i=e[s][0],o=e[s][1];o.value?n[i]=o.value:n[i]=this._get(o,t)}return n},"_getter/app/state"(e,t){let n;e.params&&(n=this._get(e.params,t));const s=this.$context.store.getters[e.name](n);return e.return?this._getValue(e.return,s):s},"_getter/plugin/method"(e,t){let n;e.params&&(n=this._get(this._getParam(e.params,t.id),t));const s=this.$context.method(e.name,n);return e.return?this._getValue(e.return,s):s},"_getter/this/id"(e,{id:t}){return this.instance[t].data.id},"_getter/this/instanceId"(e,{id:t}){return this.instance[t].data.instanceId},"_getter/this/value"(e,{id:t}){const n=this.instance[t].data.value;return e?this._getValue(e,{...n}):n},"_getter/iteration/value"(e,{id:t}){const n=this.instance[t].iteration;return e?this._getValue(e,{...n}):n},"_getter/parent/value"(e,{id:t,parentItemId:n}){e._$itemId&&(n=e._$itemId);const s=this.instance[t].results[n];if(Object.hasOwnProperty.call(s,e))return s[e];if(Object.hasOwnProperty.call(e,"value"))return s;if(Object.hasOwnProperty.call(e,"key")){const t=e.key.split(".");let n=s;for(let e=0;e<t.length;e++){const s=t[e];if(!n[s])return n;n=n[s]}}},"_getter/parent/array"(e,{id:t,parentItemId:n}){const s=[];e._$itemId&&(n=e._$itemId);const i=this.instance[t].results[n];for(let t=0;t<e.indexes.length;t++){const n=e[t];s.push(i[n])}return s},"_getter/parent/object"(e,{id:t,parentItemId:n}){const s={};e._$itemId&&(n=e._$itemId);const i=this.instance[t].results[n];for(let t=0;t<e.keys.length;t++){const n=e[t],o=n.split(".");let a=i;for(let e=0;e<o.length;e++){const t=o[e];a[t]&&(a=a[t])}s[n]=a}return s},"_data/array"(e,t){const n=[];for(let s=0;s<e.length;s++)n.push(this._get(e[s],t));return n},"_data/object"(e,t){const n={};for(let s=0;s<e.length;s++){const i=e[s];n[i[0]]=this._get(i[1],t)}return n},"_data/value"(e,t){return this._get(e,t)}}},v=n(966);let _=e=>crypto.getRandomValues(new Uint8Array(e)),b=(e,t)=>((e,t,n)=>{let s=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*s*t/e.length);return()=>{let o="";for(;;){let a=n(i),r=i;for(;r--;)if(o+=e[a[r]&s]||"",o.length===t)return o}}})(e,t,_);var y={name:v.name,version:v.version,data:{docId:null,instanceId:null},setup({docId:e,instanceId:t}){this.docId=b(e.alphabet,e.alphabetLength),this.instanceId=b(t.alphabet,t.alphabetLength)},getters:{generateDocId(){return this.docId()},generateInstanceId(){return this.instanceId()}}},x=n(36);function w(e,t=[]){this.name=e.name,this.version=e.version,this._context={},e.data&&(this._context={...e.data});for(let n=0;n<t.length;n++){const s=t[n],i={name:e.name,version:e.version,dependencies:e.dependencies};s.dispatch?this._context[s.name]=s.value(i):this._context[s.name]=s.value}if(e.dependencies&&(this.dependencies=e.dependencies),e.getters){const t={};for(const n in e.getters)if(Object.hasOwnProperty.call(e.getters,n)){const s=e.getters[n];Object.defineProperty(this._context,n,{get:s}),"_"!==n.charAt(0)&&(t[n]=s.bind(this._context))}this.getters=t}if(e.methods){const t={};for(const n in e.methods)if(Object.hasOwnProperty.call(e.methods,n)){const s=e.methods[n];this._context[n]=s,"_"!==n.charAt(0)&&(t[n]=s.bind(this._context))}this.methods=t}e.setup&&(this.setup=e.setup.bind(this._context))}w.prototype.init=function(e){if(this.setup)return this.setup(e)};var I=w;function O({id:e,async:t,crossOrigin:n,defer:s,integrity:i,nonce:o,referrerPolicy:a,src:r,type:l="text/javascript",nomodule:d,customParams:c=[],globalVars:h}){this.queue=[],this.loaded=!1,this.id=`sl__${e}`,this.async=t,this.crossOrigin=n,this.defer=s,this.integrity=i,this.nonce=o,this.referrerPolicy=a,this.src=r,this.type=l,this.nomodule=d,this.customParams=c,this.globalVars=h}O.prototype.loading=function(){return Promise.all(this.queue)},O.prototype.load=function(e){const t=new Promise(((t,n)=>{const s=this.createUrl(e);this.setScript({url:s,resolve:t,reject:n})}));return this.queue.push(t),t},O.prototype.createUrl=function(e){let t=this.src;for(let n=0;n<this.customParams.length;n++){const s=this.customParams[n];t=t.replace(`${s}=`,`${s}=${e[s]}`)}return t},O.prototype.setScript=function({url:e,resolve:t,reject:n}){if(document.getElementById(this.id))return;const s=document.createElement("script");s.id=this.id,s.type=this.type,s.src=e,s.onerror=()=>n(),s.onload=()=>{this.loaded=!0;const e={};if(this.globalVars)for(let t=0;t<this.globalVars.length;t++){const n=this.globalVars[t];e[n]=window[n]}t(e)},this.async&&(s.async=this.async),this.crossOrigin&&(s.crossOrigin=this.crossOrigin),this.defer&&(s.defer=this.defer),this.integrity&&(s.integrity=this.integrity),this.referrerPolicy&&(s.referrerPolicy=this.referrerPolicy),this.nomodule&&(s.nomodule=this.nomodule),this.nonce&&(s.nonce=this.nonce),document.head.appendChild(s)};var L=O,P={name:x.name,version:x.version,data:{_methods:{},_getters:{},buildId:"",additionalPlugins:{},plugins:{},appBuildId:"",appPlugins:[],appAdditionalPlugins:[],queue:{},isLoaded:{},setupOnRequest:{},setupOnRequestQueue:{},metadata:{},context:{}},setup({buildId:e,plugins:t=[],additionalPlugins:n=[],isDev:s}){this.buildId=e,this.context=[{name:"isDev",dispatch:!1,value:s},{name:"$Script",dispatch:!1,value:L},{name:"$action",dispatch:!0,value:this._action.bind(this)},{name:"$method",dispatch:!0,value:this._method.bind(this)},{name:"$getter",dispatch:!1,value:this._getter.bind(this)}],this._add({name:x.name,methods:{use:this.use}}),this.isLoaded[x.name]=!0;for(let e=0;e<t.length;e++){const n=t[e];this.plugins[n.item.name]=n.item.version,this.use({},n)}for(let e=0;e<n.length;e++){const t=n[e];this.additionalPlugins[t.item.name]=t.item.version,this.use({},t)}},methods:{_actionExists(e){return this._methods[e]},_addMetadata(e){this.queue[e.name]&&delete this.queue[e.name],this.isLoaded[e.name]=!1,this.metadata[e.name]=e},_callbackWhenAvailable(e,t){if(this._actionExists(e))return t();const n=e.split("/")[0];this.queue[n]&&!this.setupOnRequest[n]?this._isLoading(n).then((()=>{this._actionExists(e)?t():console.error("action does not exist: "+e)})):this.setupOnRequest[n]?this._isLoading(n).then((()=>{this.use({},{item:{name:n}}).then((()=>{this._actionExists(e)?t():console.error("action does not exist: "+e)}))})):this.metadata[n]?this.use({},{item:{name:n}}).then((()=>{this._actionExists(e)?t():console.error("action does not exist: "+e)})):console.error("action does not exist: "+e)},_install(e,t,n){return new Promise(((s,i)=>{this.isLoaded[e]=!1,this.setupOnRequest[e]=!!n,this._load(e,t).then((({plugin:t,setupOptions:o})=>{const a=[];if(n)return this.setupOnRequestQueue[e]=t,s();if(t.dependencies){const n=[];for(let e=0;e<t.dependencies.length;e++){const s=this.use({},{item:{name:t.dependencies[e].name,version:t.dependencies[e].version}});n.push(s)}Promise.all(n).then((()=>{const n=new I(t,this.context),r=this._setup(n,o);r&&a.push(r),Promise.all(a).then((()=>{this._add(n),this.isLoaded[e]=!0,s()})).catch((e=>i(e)))})).catch((e=>i(e)))}else{const n=new I(t,this.context),r=this._setup(n,o);r&&a.push(r),Promise.all(a).then((()=>{this._add(n),this.isLoaded[e]=!0,s()})).catch((e=>i(e)))}})).catch((e=>i(e)))}))},_isLoading(e){return Promise.all(this.queue[e])},_load(e,t){return new Promise(((n,s)=>{let i={},o={id:e};if(this.metadata[e]){const t=this.metadata[e];t||s({statusCode:404,message:"Plugin not found: "+e}),t.script&&(o={...o,...t.script}),t.setupOptions&&(i=t.setupOptions)}return t?n({plugin:t,setupOptions:i}):this.setupOnRequestQueue[e]?(t=this.setupOnRequestQueue[e],delete this.setupOnRequestQueue[e],n({plugin:t,setupOptions:i})):void(o.src?new L(o).load().then((()=>{const t=window.pluginLoader[e];if(t)return n({plugin:t,setupOptions:i});{const t=new Error("Plugin was not found: "+e);return s(t)}})).catch((e=>s(e))):s({statusCode:404,message:"Plugin not found: "+e}))}))},_action(e){return(t,n,s={})=>{this._callbackWhenAvailable(t,(()=>{const i=s.onSuccess,o=s.onError,a=this._methods[t](e,n);o&&a instanceof Error?o.method?o.method({...o.params,results:a}):o(a):a instanceof Promise?Promise.resolve(a).then((e=>{i&&(i.method?i.method({...i.params,results:e}):i(e))})).catch((e=>{o&&(o.method?o.method({...o.params,results:e}):o(e))})):i&&(i.method?i.method({...i.params,results:a}):i(a))}))}},_setup(e,t){const n=e.init(t);if(n instanceof Promise)return n},_add(e){if(e.methods)for(const t in e.methods)if(Object.hasOwnProperty.call(e.methods,t)){const n=e.methods[t];this._methods["".concat(e.name,"/").concat(t)]=n}if(e.getters)for(const t in e.getters)if(Object.hasOwnProperty.call(e.getters,t)){const n=e.getters[t];Object.defineProperty(this._getters,"".concat(e.name,"/").concat(t),{get:n})}},_getter(e){return this._getters[e]},_method(e){return(t,n)=>{try{if(this._methods[t])return this._methods[t](e,n);throw new Error('Method "'+t+'" does not exist')}catch(e){return e}}},use(e,{item:t,options:n={},plugin:s}){if(n.onDemand)return this._addMetadata(t);if(this.isLoaded[t.name])return Promise.resolve();if(this.queue[t.name]&&!this.setupOnRequest[t.name])return this._isLoading(t.name);{this._addMetadata(t);const e=this._install(t.name,s,n.setupOnRequest);this.queue[t.name]=[e]}}}},E=n(946);function C(){var e="/home/thomas/Projects/ds-app/src/app.js",t=new Function("return this")(),n="__coverage__",s=t[n]||(t[n]={});s[e]&&"82811a63a7b53901af68b9e6e174488c76c13aa6"===s[e].hash||(s[e]={path:"/home/thomas/Projects/ds-app/src/app.js",statementMap:{0:{start:{line:29,column:4},end:{line:29,column:34}},1:{start:{line:31,column:25},end:{line:31,column:75}},2:{start:{line:33,column:19},end:{line:37,column:6}},3:{start:{line:39,column:4},end:{line:76,column:35}},4:{start:{line:41,column:27},end:{line:41,column:57}},5:{start:{line:42,column:8},end:{line:42,column:37}},6:{start:{line:44,column:8},end:{line:44,column:69}},7:{start:{line:46,column:8},end:{line:46,column:121}},8:{start:{line:48,column:8},end:{line:50,column:9}},9:{start:{line:49,column:10},end:{line:49,column:65}},10:{start:{line:52,column:8},end:{line:54,column:9}},11:{start:{line:53,column:10},end:{line:53,column:73}},12:{start:{line:56,column:8},end:{line:58,column:9}},13:{start:{line:57,column:10},end:{line:57,column:75}},14:{start:{line:60,column:8},end:{line:62,column:9}},15:{start:{line:61,column:10},end:{line:61,column:71}},16:{start:{line:64,column:8},end:{line:66,column:9}},17:{start:{line:65,column:10},end:{line:65,column:77}},18:{start:{line:68,column:8},end:{line:74,column:10}},19:{start:{line:69,column:10},end:{line:72,column:11}},20:{start:{line:69,column:23},end:{line:69,column:24}},21:{start:{line:70,column:30},end:{line:70,column:78}},22:{start:{line:71,column:12},end:{line:71,column:51}},23:{start:{line:73,column:10},end:{line:73,column:49}},24:{start:{line:76,column:18},end:{line:76,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:37},end:{line:77,column:3}},line:28},1:{name:"(anonymous_1)",decl:{start:{line:40,column:12},end:{line:40,column:13}},loc:{start:{line:40,column:32},end:{line:75,column:7}},line:40},2:{name:"(anonymous_2)",decl:{start:{line:68,column:44},end:{line:68,column:45}},loc:{start:{line:68,column:50},end:{line:74,column:9}},line:68},3:{name:"(anonymous_3)",decl:{start:{line:76,column:13},end:{line:76,column:14}},loc:{start:{line:76,column:18},end:{line:76,column:34}},line:76}},branchMap:{0:{loc:{start:{line:48,column:8},end:{line:50,column:9}},type:"if",locations:[{start:{line:48,column:8},end:{line:50,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:48},1:{loc:{start:{line:52,column:8},end:{line:54,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:54,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:52},2:{loc:{start:{line:56,column:8},end:{line:58,column:9}},type:"if",locations:[{start:{line:56,column:8},end:{line:58,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},3:{loc:{start:{line:60,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:62,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:60},4:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:64}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"82811a63a7b53901af68b9e6e174488c76c13aa6"});var i=s[e];return C=function(){return i},i}C();var $={name:E.name,version:E.version,dependencies:[{name:"dsElement",version:1},{name:"dsContent",version:1},{name:"dsLayout",version:1}],data:{rootElement:null},setup({rootElement:e,assetsURL:t}){C().f[0]++,C().s[0]++,this.rootElement=e;const n=(C().s[1]++,window.location.pathname.replace("/","-")+".js"),s=(C().s[2]++,new this.$Script({id:"ds-app-cache",src:t+"/app_cache/"+window.location.hostname+"/"+n,globalVars:["dsAppCache"]}));C().s[3]++,s.load().then((({dsAppCache:n})=>{C().f[1]++;const s=(C().s[4]++,document.createElement("link"));C().s[5]++,s.rel="stylesheet",C().s[6]++,s.href=t+"/assets/css/bootstrap.min.css",C().s[7]++,document.head.insertBefore(s,document.head.childNodes[document.head.childNodes.length-1].nextSibling),C().s[8]++,n.content?(C().b[0][0]++,C().s[9]++,this.$method("dsContent/set",n.content.items)):C().b[0][1]++,C().s[10]++,n.widgets.content?(C().b[1][0]++,C().s[11]++,this.$method("dsLayout/setContent",n.widgets.content)):C().b[1][1]++,C().s[12]++,n.widgets.children?(C().b[2][0]++,C().s[13]++,this.$method("dsLayout/setChildren",n.widgets.children)):C().b[2][1]++,C().s[14]++,n.widgets.layout?(C().b[3][0]++,C().s[15]++,this.$method("dsLayout/setLayout",n.widgets.layout)):C().b[3][1]++,C().s[16]++,n.widgets.baseItems?(C().b[4][0]++,C().s[17]++,this.$method("dsLayout/setBaseItems",n.widgets.baseItems)):C().b[4][1]++,C().s[18]++,s.addEventListener("load",(()=>{C().f[2]++,C().s[19]++;for(let e=(C().s[20]++,0);e<30;e++){const e=(C().s[21]++,this.$method("dsLayout/create","layoutDocId_1"));C().s[22]++,this.rootElement.appendChild(e)}C().s[23]++,e.classList.remove("loading")}))})).catch((e=>(C().f[3]++,C().s[24]++,console.error(e))))}};function H(){var e="/home/thomas/Projects/ds-app/src/index.js",t=new Function("return this")(),n="__coverage__",s=t[n]||(t[n]={});s[e]&&"2b7018b0bfad461de2e0f763fb8a4ab2d6a3ab9a"===s[e].hash||(s[e]={path:"/home/thomas/Projects/ds-app/src/index.js",statementMap:{0:{start:{line:14,column:16},end:{line:105,column:1}},1:{start:{line:107,column:0},end:{line:107,column:24}},2:{start:{line:109,column:0},end:{line:122,column:2}},3:{start:{line:124,column:22},end:{line:124,column:45}},4:{start:{line:126,column:0},end:{line:130,column:2}}},fnMap:{},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2b7018b0bfad461de2e0f763fb8a4ab2d6a3ab9a"});var i=s[e];return H=function(){return i},i}H();const M=(H().s[0]++,[{item:{name:a.name,version:a.version},plugin:a,options:{setupOnRequest:!1}},{item:{name:l.name,version:l.version},plugin:l,options:{setupOnRequest:!1}},{item:{name:c.name,version:c.version},plugin:c,options:{setupOnRequest:!1}},{item:{name:i.name,version:i.version},plugin:i,options:{setupOnRequest:!1}},{item:{name:p.name,version:p.version},plugin:p,options:{setupOnRequest:!1}},{item:{name:f.name,version:f.version},plugin:f,options:{setupOnRequest:!1}},{item:{name:u.name,version:u.version},plugin:u,options:{setupOnRequest:!1}},{item:{name:y.name,version:y.version,setupOptions:{docId:{alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",alphabetLength:20},instanceId:{alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",alphabetLength:17}}},plugin:y,options:{setupOnRequest:!1}}]);H().s[1]++,window.pluginLoader={},H().s[2]++,M.push({item:{name:$.name,version:$.version,setupOptions:{rootElement:document.getElementById("root"),assetsURL:"https://cdn.dooksa.com/file/dooksa"}},plugin:$,options:{setupOnRequest:!1}});const T=(H().s[3]++,new t(P));H().s[4]++,T.init({build:1,plugins:M,isDev:!0})})(),window.pluginLoader.dsApp={}.default})();
//# sourceMappingURL=ds-app.js.map